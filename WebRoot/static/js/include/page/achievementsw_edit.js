"use strict";var config={id:yo.getQueryString("id"),type:yo.getQueryString("type"),index:yo.getQueryString("index"),role:localStorage.userRole,api_detail:"/yjzb/showYjzbDetail",api_add:"/yjzb/addOrUpdateYjzb"};function colseThis(){var t=parent.layer.getFrameIndex(window.name);parent.layer.close(t)}require(["dateTimeInit"]),require(["select2"],function(t){window.app=new Vue({el:"#app",data:{c:{},d:[],dtype:"",xinxi:!1,xinxi_1:!0,btn_edit:!1},computed:{},created:function(){},mounted:function(){this.list_Get()},methods:{list_Get:function(){var e=this;$.get(config.api_detail,{parentId:config.id,type:config.type},function(t){if("00"==t.error){e.btn_edit=!0;var a=[{monthOrjd:"4",conditions:"0",targetDetail:"0"},{monthOrjd:"5",targetDetail:"0"},{monthOrjd:"6",targetDetail:"0"},{monthOrjd:"7",targetDetail:"0"},{monthOrjd:"8",targetDetail:"0"},{monthOrjd:"9",targetDetail:"0"},{monthOrjd:"10",targetDetail:"0"},{monthOrjd:"11",targetDetail:"0"},{monthOrjd:"12",targetDetail:"0"},{monthOrjd:"1",targetDetail:"0"},{monthOrjd:"2",targetDetail:"0"},{monthOrjd:"3",targetDetail:"0"}];t.result.forEach(function(n){n.xinxi.forEach(function(t,e,i){i.length<12&&(n.xinxi=a)})}),e.c=t.result,1<t.result[0].xinxi.length&&(e.xinxi=!0,e.xinxi_1=!1)}})},save:function(){var r=[];$("#htz_zb tr").each(function(){var n=$(this).attr("data-id"),a=$(this).find("#condition").val();$(this).find("td input[name=yyy]").each(function(){var t={},e=$(this).attr("data-month"),i=$(this).val();t.userId=n,t.conditions=a,t.monthOrjd=e,t.targetDetail=i,r.push(t)})}),yocto.json(config.api_add,{type:config.type,parentId:config.id,yjList:r},function(t){"00"==t.error&&layer.msg("保存成功")})},cancel:function(){colseThis()}}})}),window.parentFnc=function(t){layer.closeAll(),window.app.getCaseRecord(window.app.type)};