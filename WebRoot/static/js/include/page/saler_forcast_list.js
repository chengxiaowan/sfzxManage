"use strict";var config={role:localStorage.userRole,api_showSaleCustomer:"/saleCustomer/showSaleCustomer",api_qdKhgh:"/saleCustomer/qdKhgh",api_import:"/saleCustomer/importExcel.do",api_moveGh:"/saleCustomer/moveGh.do",api_moveKh:"/saleCustomer/moveKh.do",api_call:"/saleCustomer/call.do",api_hasName:"/saleCustomer/hasName",api_updateSaleCustomer:"/saleCustomer/updateSaleCustomer"};require(["module_dialog_saleoffollow","module_dialog_importExcel"],function(e,t){window.app=new Vue({el:"#app",data:{c:{},role:config.role,isKhGh:2,postData:{},posting:!1,checkAll:0,checks:[],callId:"",s:{keywords:{},saleName:{},provinceName:"",cityName:""},sort:{gjTime:"",xcgetTime:"",xchrghTime:""},select2:{},hoverEl:{name:{show:0,el:{}},linkmanLandline:{show:0,el:{}},linkmanMobilePhone:{show:0,el:{}},email:{},postion:{show:0,el:{}},linkmanName:{show:0,el:{}},remark:{show:0,el:{}}},editEl:{show:"",el:{},oldValue:""},saleFollowMode:0},computed:{citys_sub:function(){var e=this.s.provinceName,t=[],a=void 0;return console.log(e),$.each(this.citys["省份"],function(t,o){e==o.regionName&&(a=o.id)}),$.each(this.citys["市区"],function(e,o){a==o.parentId&&t.push(o)}),t}},created:function(){document.getElementById("app").classList.remove("hide"),localStorage.citys&&(this.citys=JSON.parse(localStorage.citys))},mounted:function(){function e(){t.select2.city=$("select[name=cityName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.cityName=this.value})}var t=this;this.list_Get(),this.$watch("checks",function(e,a){t.checks.length==t.c.list.length?t.checkAll=1:t.checkAll=0}),$(".select2").select2({language:"zh-CN"}),this.select2.province=$("select[name=provinceName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.provinceName=this.value,t.select2.city.select2("destroy"),e()}),e(),"经理"==t.role&&(t.s.saleName=t.select_init("[name=saleName]","请选择负责人",1));t.select_init("#salerId");require(["webuploader"],function(e){var a=e.create({server:config.api_import,formData:{isKhgh:0},runtimeOrder:"html5",pick:{id:"#excel_fileUp",innerHTML:"导入客户"},resize:!1,fileNumLimit:10});a.on("uploadSuccess",function(e,t){}),a.on("uploadStart",function(){t.loading()}),a.on("uploadError",function(e){layer.msg("上传出错")}),a.on("error",function(e){"Q_TYPE_DENIED"==e&&layer.msg("上传文件格式错误，请检查")}),a.on("uploadFinished",function(e){a.reset(),layer.msg("上传成功"),t.loading("close"),t.list_Get()}),a.on("fileQueued",function(){a.upload()})})},directives:{focus:{inserted:function(e){e.focus(),e.dataset.tips&&layer.tips('<span style="color:#337ab7">'+e.dataset.tips+"</span>",e,{tips:[2,"#fff"]})}}},methods:{clear:function(){"经理"==this.role&&this.s.saleName.val(null).trigger("change"),this.select2.province.val(null).trigger("change"),this.select2.city.val(null).trigger("change")},btn_checkAll:function(){var e=this;e.checks=[],e.checkAll&&$.each(e.c.list,function(){e.checks.push(this.id)})},edit_hover:function(e,t){Vue.set(this.hoverEl,e,{show:1,el:t})},edit_el:function(e,t){this.editEl.show=e,this.editEl.el=t,this.editEl.oldValue=t.name},edit_submit:function(e,t){console.log(2),this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}}),this.saveData(e,t)},edit_keyup:function(e,t){this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}})},overTips:function(e){layer.tips('<span style="color:#337ab7">'+e.remark+"</span>","#remark_"+e.id,{tips:[2,"#fff"]})},saveData:function(e,t){function a(){var a={id:t.id};a[e]=t[e],$.post(config.api_updateSaleCustomer,a,function(e){})}var o=this;if("name"==e&&""==t.name)return void(t.name=this.editEl.oldValue);"name"==e&&t.name==this.editEl.oldValue||("name"==e?$.post(config.api_hasName,{name:t.name}).done(function(e){if("error"==e.result)return layer.msg("客户名称已存在,请检查重试"),void(t.name=o.editEl.oldValue);a()}):a())},loading:function(e){"close"==e?layer.close(this.loadingSwitch):this.loadingSwitch=layer.load(3)},search:function(){this.postData.keywords=$.trim($("[name=keywords]").val()),this.postData.saleName=$.trim($("[name=saleName]").val()),this.postData.cityName=$.trim($("[name=cityName]").val()),this.postData.provinceName=$.trim($("[name=provinceName]").val()),this.postData.status=$("[name=status]").val(),this.list_Get(1)},list_Get:function(e){var t=this;e&&(this.c.pageNum=e),t.loading(),t.postData.isKhGh=this.isKhGh,t.postData.pageSize=this.c.pageSize,t.postData.pageNo=this.c.pageNum,t.postData.gjTime=this.sort.gjTime,t.postData.xcgetTime=this.sort.xcgetTime,t.postData.xchrghTime=this.sort.xchrghTime,$.ajax({url:config.api_showSaleCustomer,async:!1,data:t.postData}).done(function(a){t.c=a.result,t.pagi?($(".pagi").pagination("updatePages",t.c.pages),1==e&&$(".pagi").pagination("goToPage",t.c.pageNum)):require(["pagination"],function(e){t.pagi=$(".pagi").pagination({pages:t.c.pages,showCtrl:!0,displayPage:6,currentPage:t.c.pageNum,onSelect:function(e){t.c.pageNum=e,t.list_Get()}})}),t.loading("close")})},data_sort:function(e){switch(this.sort[e]){case"":Vue.set(this.sort,e,0);break;case 0:Vue.set(this.sort,e,1);break;case 1:Vue.set(this.sort,e,"")}for(var t in this.sort)t!=e&&Vue.set(this.sort,t,"");this.list_Get(1)},shiftToOther:function(){var e=this;if(this.checks.length)var t=layer.open({type:1,title:"转移客户",closeBtn:1,content:$("#salerBox"),area:["350px","200px"],btn:"转移",btnAlign:"c",yes:function(){if(!$("#salerId").val())return void layer.close(t);yocto.json(config.api_moveKh,{id:e.checks,saleId:$("#salerId").val()},function(a){layer.close(t),layer.msg("转移成功"),e.list_Get(1)})}});else layer.msg("请先选择一项进行操作")},shiftToSea:function(){var e=this;if(this.checks.length)var t=layer.confirm("请选择转移到的公海",{btn:["客户公海","无意向公海"],btnAlign:"c"},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:0},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:1},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})});else layer.msg("请先选择一项进行操作")},call:function(e,t){var a=this,o=this;this.hoverEl.linkmanMobilePhone.show=0,this.hoverEl.linkmanLandline.show=0,o.loading(),this.callId="",window.callId="",$.post(config.api_call,{mobilePhone:t}).done(function(t){function i(e){console.log("Connected to WebSocket server.")}function s(e){console.log("Disconnected")}function n(e){console.log("Retrieved data from server: "+e.data),console.log(e.data.indexOf("saler:")),console.log(e.data.split("saler:")[1]),0==e.data.indexOf("saler:")&&(o.callId=e.data.split("saler:")[1],window.callId=e.data.split("saler:")[1]),h.close()}function l(e){console.log("Error occured: "+e.data)}o.loading("close"),o.saleFollowMode=0,Vue.nextTick(function(){a.$refs.follow.init(e)});var c=location.host,r="ws://"+c+"/webSocketServer",h=new WebSocket(r);h.onopen=function(e){i(e)},h.onclose=function(e){s(e)},h.onmessage=function(e){n(e)},h.onerror=function(e){l(e)},window.onunload=function(){h.close()}})},customer_detail:function(e){layer.open({type:2,title:" ",content:"customer_detail.html?id="+e.id,area:["100%","100%"]})},edit_saleRecord:function(e){var t=this;t.saleFollowMode=1,Vue.nextTick(function(){t.$refs.follow.init({id:e.id,name:e.name})})},sync:function(e){layer.open({type:2,title:"同步",closeBtn:1,content:"/saleCustomer/goZy.do?id="+e,area:["700px","600px"]})},select_init:function(e,t,a){return $(e).select2({placeholder:t||"请选择",language:"zh-CN",allowClear:a||!1,ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(e){return{page:e.page||1,ROLE_ID:"b729e9334ad64c15a4e47d88b8c2638f,30b1487221464d369ca4c2462ccca920",data:{q:e.term||""}}},processResults:function(e,t){return t.page=t.page||1,$.each(e,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:e,pagination:{more:10==e.length}}},cache:!0},minimumInputLength:0})}}})}),window.parentFnc=function(e){layer.closeAll(),window.app.list_Get()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVyX2ZvcmNhc3RfbGlzdC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJyb2xlIiwibG9jYWxTdG9yYWdlIiwidXNlclJvbGUiLCJhcGlfc2hvd1NhbGVDdXN0b21lciIsImFwaV9xZEtoZ2giLCJhcGlfaW1wb3J0IiwiYXBpX21vdmVHaCIsImFwaV9tb3ZlS2giLCJhcGlfY2FsbCIsImFwaV91cGRhdGVTYWxlQ3VzdG9tZXIiLCJkaWFsb2dfZm9sbG93IiwiaW1wb3J0RXhjZWwiLCJyZXF1aXJlIiwiYXBwIiwiVnVlIiwid2luZG93IiwiZWwiLCJkYXRhIiwiYyIsImlzS2hHaCIsInBvc3REYXRhIiwicG9zdGluZyIsImNoZWNrQWxsIiwiY2hlY2tzIiwicyIsImtleXdvcmRzIiwic2FsZU5hbWUiLCJwcm92aW5jZU5hbWUiLCJzb3J0IiwiZ2pUaW1lIiwieGNnZXRUaW1lIiwic2VsZWN0MiIsIm5hbWUiLCJzaG93IiwicG9zdGlvbiIsImxpbmttYW5OYW1lIiwicmVtYXJrIiwiZWRpdEVsIiwib2xkVmFsdWUiLCJzYWxlRm9sbG93TW9kZSIsImNvbXB1dGVkIiwiY2l0eXNfc3ViIiwicHJvdmluY2UiLCJjb25zb2xlIiwiZWFjaCIsInByb3ZpbmNlSWQiLCJjcmVhdGVkIiwibG9nIiwiJCIsInRoaXMiLCJjaXR5cyIsImkiLCJjaXR5IiwiaWQiLCJwYXJlbnRJZCIsInB1c2giLCJkb2N1bWVudCIsIm1vdW50ZWQiLCJKU09OIiwicGFyc2UiLCJwbGFjZWhvbGRlciIsImFsbG93Q2xlYXIiLCJsYW5ndWFnZSIsInRoYXQiLCJjaXR5TmFtZSIsIm9uIiwidmFsdWUiLCIkd2F0Y2giLCJvIiwibiIsImxlbmd0aCIsImxpc3QiLCJjaXR5X2luaXQiLCJzYWxlcklkIiwic2VsZWN0X2luaXQiLCJzZXJ2ZXIiLCJmb3JtRGF0YSIsIldlYlVwbG9hZGVyIiwiY3JlYXRlIiwicnVudGltZU9yZGVyIiwiaXNLaGdoIiwicGljayIsInJlc2l6ZSIsImZpbGVOdW1MaW1pdCIsImxvYWRpbmciLCJmaWxlIiwicmVzIiwidXBsb2FkZXIiLCJsYXllciIsImxpc3RfR2V0IiwicmVzZXQiLCJtc2ciLCJ1cGxvYWQiLCJmb2N1cyIsInRpcHMiLCJkYXRhc2V0IiwibWV0aG9kcyIsImNsZWFyIiwidmFsIiwidHJpZ2dlciIsImtleSIsImVkaXRfZWwiLCJlZGl0X3N1Ym1pdCIsInNldCIsImhvdmVyRWwiLCJzYXZlRGF0YSIsIm92ZXJUaXBzIiwic2F2ZSIsIl90aGlzIiwicG9zdCIsImFwaV9oYXNOYW1lIiwiZG9uZSIsInJlc3VsdCIsImNsb3NlIiwibG9hZGluZ1N3aXRjaCIsImxvYWQiLCJzZWFyY2giLCJ0cmltIiwic3RhdHVzIiwicGFnZSIsInBhZ2VOdW0iLCJwYWdlU2l6ZSIsInBhZ2VObyIsInVybCIsImFzeW5jIiwicGFnaSIsInBhZ2VzIiwicGFnaW5hdGlvbiIsInNob3dDdHJsIiwiZGlzcGxheVBhZ2UiLCJjdXJyZW50UGFnZSIsIm9uU2VsZWN0IiwibnVtIiwiZGF0YV9zb3J0Iiwic2hpZnRUb090aGVyIiwib3BlbiIsInR5cGUiLCJ0aXRsZSIsImRpYWxvZyIsImNsb3NlQnRuIiwiY29udGVudCIsImFyZWEiLCJidG4iLCJidG5BbGlnbiIsInllcyIsInlvY3RvIiwianNvbiIsInNhbGVJZCIsInNoaWZ0VG9TZWEiLCJjb25maXJtIiwiY2FsbCIsInBob25lIiwiX3RoaXMyIiwibGlua21hbk1vYmlsZVBob25lIiwibGlua21hbkxhbmRsaW5lIiwiY2FsbElkIiwid2Vic29ja2V0IiwiZXZ0Iiwib25PcGVuIiwib25DbG9zZSIsIm9uTWVzc2FnZSIsImluZGV4T2YiLCJvbmVycm9yIiwic3BsaXQiLCJvbkVycm9yIiwibW9iaWxlUGhvbmUiLCJmb2xsb3ciLCJpbml0IiwibmV4dFRpY2siLCJob3N0Iiwid3NTZXJ2ZXIiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJocmVmIiwiY3VzdG9tZXJfZGV0YWlsIiwiZWRpdF9zYWxlUmVjb3JkIiwiaW5kZXgiLCJjbGVhcmJ0biIsInN5bmMiLCJkZWxheSIsInBhcmFtcyIsImRhdGFUeXBlIiwiVVNFUl9JRCIsInRleHQiLCJOQU1FIiwiUk9MRV9JRCIsInEiLCJ0ZXJtIiwibWluaW11bUlucHV0TGVuZ3RoIiwiY2FjaGUiLCJjbG9zZUFsbCJdLCJtYXBwaW5ncyI6IllBQUEsSUFBTUEsU0FDTEMsS0FBTUMsYUFBYUMsU0FEcEJDLHFCQUFlLGlDQUNkSCxXQUFNQyx1QkFDTkUsV0FBQUEsK0JBQ0FDLFdBQVksMEJBQ1pDLFdBQVksMEJBQ1pDLFNBQUFBLHdCQUNBQyxZQUFZLHdCQUNaQyx1QkFBVSxtQ0FFVkMsVUFBQUEsNkJBQXdCLDZCQVR6QixTQUFBQyxFQUFBQyxHQVdBQyxPQUFRQyxJQUFDLEdBQUFDLE1BQ1JDLEdBQUFBLE9BQ0NDLE1BQ0FDLEtBQ0NDLEtBREtuQixPQUFBQyxLQUVMQSxPQUFNRCxFQUNOb0IsWUFDQUMsU0FBQUEsRUFDQUMsU0FBUyxFQUNUQyxVQUNBQyxPQUFRLEdBRVJDLEdBQ0FBLFlBQ0NDLFlBQ0FDLGFBRkUsR0FHRkMsU0FBQUEsSUFIRUMsTUFNSEEsT0FBSyxHQUNIQyxVQURHLEdBRUhDLFdBQVUsSUFGUEMsV0FVSkMsU0FDQ0MsTUFDQWpCLEtBQUksRUFIR0EsT0FNUGlCLGlCQUNBakIsS0FBSSxFQVBHQSxPQVVQaUIsb0JBQ0FqQixLQUFJLEVBWEdBLE9BZ0JSa0IsU0FBU0EsU0FJVEMsS0FBQUEsRUFDQ0YsT0FEWUUsYUFJYkMsS0FBQUEsRUFDQ0gsT0FET0csUUFqREpILEtBQUEsRUFzRExJLFFBR0NDLFFBekRJTCxLQUFBLEdBMkRMTSxNQTdEbUJELFNBQUEsSUFnRW5CQyxlQUFBLEdBRUNDLFVBRUFDLFVBRk1DLFdBR05DLEdBQUFBLEdBQVlELEtBQVpsQixFQUFBRyxhQUNFaUIsS0FDREMsTUFBQUEsRUFTSEMsT0FSR0gsU0FGREksSUFBQUwsR0FHQU0sRUFBRUosS0FBS0ssS0FBS0MsTUFBTSxNQUFPLFNBQUFDLEVBQUFuQyxHQUNwQjZCLEdBQUFBLEVBQWM3QixhQUFh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R0FDSHhDLEtBRHNCeEgsRUFBQWdCLFVBUXhCK0ksS0E3UkksU0E2UkpBLEdBQ0N2RixNQUFBK0MsTUFDQXhFLEtBQUt4QixFQUNMekIsTUFBSTBKLEtBQ0h6RyxTQUFBLEVBQ0NWLFFBQU9BLDRCQURlQSxFQUV0QnJCLE1BQU1oQixRQUFHZ0IsWUFnQlowQyxZQW5USSxTQW1UUTFELEVBQUk0QyxFQUFhcUgsR0FYN0IsTUFBQWpJLEdBQUFoQyxHQUFBZSxTQUNBbUosWUE1U1F0SCxHQTRTQyxNQUNSRSxTQUFNNEUsUUFDTEYsV0FEeUJ5QyxJQUFBLEVBRXpCeEMsTUFDQUUsSUFBQUEsb0JBQ0FDLFNBQVMsT0FDVEMsS0FBTyxPQUxSc0MsTUFBQSxJQTdTT2xLLEtBQUEsU0FBQW1LLEdBaVVKLE9BWko3RCxLQUFBNkQsRUFBQTdELE1BQUEsRUFDQTdDLFFBdFRRLG9FQXVUUHpELE1BQ0MyQyxFQUFBQSxFQUFhQSxNQUFBQSxNQUlaK0QsZUFBSyxTQURBMUcsRUFBQW1LLEdBT0g3RCxNQUxGOEQsR0FBQUEsS0FBVUQsRUFGTDdELE1BQUEsRUFHTGlCLEVBQUFBLEtBQU12SCxFQUhELFdBSUxrSyxLQUFPOUgsR0FKRkosS0FBQXFJLFFBS0xySyxLQUFNc0ssS0FBQXRJLEtBQUF1SSxRQUdKQyxRQUFTeEssRUFDVEEsWUFDQ3lLLEtBREssSUFDRk4sRUFBT08sVUFLWlAsT0FBQUEsR0FFQ1EsbUJBQWVOLFVBVWpCTyxPQUFBQSxVQUFPLFNBQUFULEdBM0JGNUYsTUFKY3NHLFdBQUEvSyxPQUFyQkYsSUFBQTRFIiwiZmlsZSI6InNhbGVyX2ZvcmNhc3RfbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHtcclxuXHRyb2xlOiBsb2NhbFN0b3JhZ2UudXNlclJvbGUsXHJcblx0YXBpX3Nob3dTYWxlQ3VzdG9tZXI6ICcvc2FsZUN1c3RvbWVyL3Nob3dTYWxlQ3VzdG9tZXInLCAvL+iOt+WPluWuouaIt+WIl+ihqFxyXG5cdGFwaV9xZEtoZ2g6ICcvc2FsZUN1c3RvbWVyL3FkS2hnaCcsIC8v5oqi5aS65a6i5oi3XHJcblx0YXBpX2ltcG9ydDogXCIvc2FsZUN1c3RvbWVyL2ltcG9ydEV4Y2VsLmRvXCIsIC8v5a+85YWl5a6i5oi3XHJcblx0YXBpX21vdmVHaDogXCIvc2FsZUN1c3RvbWVyL21vdmVHaC5kb1wiLCAvL+i9rOenu+iHs+WFrOa1t1xyXG5cdGFwaV9tb3ZlS2g6IFwiL3NhbGVDdXN0b21lci9tb3ZlS2guZG9cIiwgLy/ovaznp7vnu5nku5bkurpcclxuXHRhcGlfY2FsbDogXCIvc2FsZUN1c3RvbWVyL2NhbGwuZG9cIixcclxuXHRhcGlfaGFzTmFtZTonL3NhbGVDdXN0b21lci9oYXNOYW1lJywgLy/mn6Xph41cclxuXHRhcGlfdXBkYXRlU2FsZUN1c3RvbWVyOiAnL3NhbGVDdXN0b21lci91cGRhdGVTYWxlQ3VzdG9tZXInLCAvL+S/neWtmOWuouaIt+S/oeaBr1xyXG59XHJcbnJlcXVpcmUoWydtb2R1bGVfZGlhbG9nX3NhbGVvZmZvbGxvdycsICdtb2R1bGVfZGlhbG9nX2ltcG9ydEV4Y2VsJ10sIChkaWFsb2dfZm9sbG93LCBpbXBvcnRFeGNlbCkgPT4ge1xyXG5cdHdpbmRvdy5hcHAgPSBuZXcgVnVlKHtcclxuXHRcdGVsOiAnI2FwcCcsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdGM6IHt9LFxyXG5cdFx0XHRyb2xlOiBjb25maWcucm9sZSxcclxuXHRcdFx0aXNLaEdoOiAyLFxyXG5cdFx0XHRwb3N0RGF0YToge30sXHJcblx0XHRcdHBvc3Rpbmc6IGZhbHNlLCAvL+aYr+WQpuato+WcqOS4iuS8oOaVsOaNrlxyXG5cdFx0XHRjaGVja0FsbDogMCxcclxuXHRcdFx0Y2hlY2tzOiBbXSxcclxuXHRcdFx0Y2FsbElkOiAnJyxcclxuXHRcdFx0Ly/mkJzntKLpoblcclxuXHRcdFx0czoge1xyXG5cdFx0XHRcdGtleXdvcmRzOiB7fSxcclxuXHRcdFx0XHRzYWxlTmFtZToge30sXHJcblx0XHRcdFx0cHJvdmluY2VOYW1lOiBcIlwiLFxyXG5cdFx0XHRcdGNpdHlOYW1lOiBcIlwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzb3J0OntcclxuXHRcdFx0XHRcdGdqVGltZTpcIlwiLFxyXG5cdFx0XHRcdFx0eGNnZXRUaW1lOlwiXCIsXHJcblx0XHRcdFx0XHR4Y2hyZ2hUaW1lOlwiXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0c2VsZWN0Mjoge1xyXG5cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/nvJbovpHmqKHlvI9cclxuXHRcdFx0aG92ZXJFbDoge1xyXG5cdFx0XHRcdG5hbWU6IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGxpbmttYW5MYW5kbGluZToge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bGlua21hbk1vYmlsZVBob25lOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRlbWFpbDp7XHJcblxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cG9zdGlvbjoge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bGlua21hbk5hbWU6IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHJlbWFyazoge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdEVsOiB7XHJcblx0XHRcdFx0c2hvdzogJycsXHJcblx0XHRcdFx0ZWw6IHt9LFxyXG5cdFx0XHRcdG9sZFZhbHVlOlwiXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0c2FsZUZvbGxvd01vZGU6IDBcclxuXHRcdH0sXHJcblx0XHRjb21wdXRlZDoge1xyXG5cdFx0XHQvL+WfjuW4guWIl+ihqFxyXG5cdFx0XHRjaXR5c19zdWIoKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJvdmluY2UgPSB0aGlzLnMucHJvdmluY2VOYW1lO1xyXG5cdFx0XHRcdGxldCBjaXR5ID0gW107XHJcblx0XHRcdFx0bGV0IHByb3ZpbmNlSWQ7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocHJvdmluY2UpO1xyXG5cdFx0XHRcdCQuZWFjaCh0aGlzLmNpdHlzWyfnnIHku70nXSwgKGksIGVsKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocHJvdmluY2UgPT0gZWwucmVnaW9uTmFtZSkgcHJvdmluY2VJZCA9IGVsLmlkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQkLmVhY2godGhpcy5jaXR5c1sn5biC5Yy6J10sIChpLCBlbCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHByb3ZpbmNlSWQgPT0gZWwucGFyZW50SWQpIGNpdHkucHVzaChlbClcclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gY2l0eTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGNyZWF0ZWQoKSB7XHJcblx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKVxyXG5cdFx0XHQvL+WIneWni+WMluWfjuW4guaVsOaNrlxyXG5cdFx0XHRpZiAobG9jYWxTdG9yYWdlLmNpdHlzKSB7XHJcblx0XHRcdFx0dGhpcy5jaXR5cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNpdHlzKVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0bW91bnRlZCgpIHtcclxuXHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdC8v5pe26Ze06YCJ5oup5Yid5aeL5YyWXHJcblx0XHRcdC8vIHJlcXVpcmUoWydkYXRlVGltZUluaXQnXSwgKGRhdGVUaW1lSW5pdCkgPT4ge1xyXG5cdFx0XHQvLyBcdGRhdGVUaW1lSW5pdCgpXHJcblx0XHRcdC8vIH0pXHJcblx0XHRcdC8v6I635Y+W5YiX6KGoXHJcblx0XHRcdHRoaXMubGlzdF9HZXQoKVxyXG5cdFx0XHQvL+ebkeWQrOWFqOmAiXBcclxuXHRcdFx0dGhpcy4kd2F0Y2goJ2NoZWNrcycsIChvLCBuKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoYXQuY2hlY2tzLmxlbmd0aCA9PSB0aGF0LmMubGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdHRoYXQuY2hlY2tBbGwgPSAxXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoYXQuY2hlY2tBbGwgPSAwXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvL+S4i+aLieahhuWIneWni+WMllxyXG5cdFx0XHQkKFwiLnNlbGVjdDJcIikuc2VsZWN0Mih7XHJcblx0XHRcdFx0bGFuZ3VhZ2U6IFwiemgtQ05cIlxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0dGhpcy5zZWxlY3QyLnByb3ZpbmNlID0gJCgnc2VsZWN0W25hbWU9cHJvdmluY2VOYW1lXScpLnNlbGVjdDIoe1xyXG5cdFx0XHRcdGxhbmd1YWdlOiBcInpoLUNOXCIsXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6ICfor7fpgInmi6knLFxyXG5cdFx0XHRcdGFsbG93Q2xlYXI6MSxcclxuXHRcdFx0fSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0aGF0LnMucHJvdmluY2VOYW1lID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0XHR0aGF0LnNlbGVjdDIuY2l0eS5zZWxlY3QyKCdkZXN0cm95Jyk7XHJcblx0XHRcdFx0Y2l0eV9pbml0KClcclxuXHRcdFx0fSlcclxuXHRcdFx0Y2l0eV9pbml0KClcclxuXHRcdFx0ZnVuY3Rpb24gY2l0eV9pbml0KCkge1xyXG5cdFx0XHRcdHRoYXQuc2VsZWN0Mi5jaXR5ID0gJCgnc2VsZWN0W25hbWU9Y2l0eU5hbWVdJykuc2VsZWN0Mih7XHJcblx0XHRcdFx0XHRsYW5ndWFnZTogXCJ6aC1DTlwiLFxyXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6ICfor7fpgInmi6knLFxyXG5cdFx0XHRcdFx0YWxsb3dDbGVhcjoxXHJcblx0XHRcdFx0fSkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHRoYXQucy5jaXR5TmFtZSA9IHRoaXMudmFsdWU7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiggdGhhdC5yb2xlPT0n57uP55CGJyl7XHJcbnRoYXQucy5zYWxlTmFtZSA9IHRoYXQuc2VsZWN0X2luaXQoJ1tuYW1lPXNhbGVOYW1lXScsICfor7fpgInmi6notJ/otKPkuronLCAxKVxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHNhbGVySWQgPSB0aGF0LnNlbGVjdF9pbml0KCcjc2FsZXJJZCcpXHJcblxyXG5cdFx0XHQvL+WIneWni+WMluS4iuS8oFxyXG5cclxuXHRcdFx0cmVxdWlyZShbJ3dlYnVwbG9hZGVyJ10sIChXZWJVcGxvYWRlcikgPT4ge1xyXG5cdFx0XHRcdHZhciB1cGxvYWRlciA9IFdlYlVwbG9hZGVyLmNyZWF0ZSh7XHJcblx0XHRcdFx0XHQvLyDmlofku7bmjqXmlLbmnI3liqHnq6/jgIJcclxuXHRcdFx0XHRcdHNlcnZlcjogY29uZmlnLmFwaV9pbXBvcnQsXHJcblx0XHRcdFx0XHRmb3JtRGF0YToge1xyXG5cdFx0XHRcdFx0XHRpc0toZ2g6IDBcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRydW50aW1lT3JkZXI6ICdodG1sNScsXHJcblx0XHRcdFx0XHQvLyDlhoXpg6jmoLnmja7lvZPliY3ov5DooYzmmK/liJvlu7rvvIzlj6/og73mmK9pbnB1dOWFg+e0oO+8jOS5n+WPr+iDveaYr2ZsYXNoLlxyXG5cdFx0XHRcdFx0cGljazoge1xyXG5cdFx0XHRcdFx0XHRpZDogJyNleGNlbF9maWxlVXAnLFxyXG5cdFx0XHRcdFx0XHRpbm5lckhUTUw6ICflr7zlhaXlrqLmiLcnXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0cmVzaXplOiBmYWxzZSxcclxuXHRcdFx0XHRcdGZpbGVOdW1MaW1pdDogMTBcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly/kuIrkvKDmiJDlip9cclxuXHRcdFx0XHR1cGxvYWRlci5vbigndXBsb2FkU3VjY2VzcycsIGZ1bmN0aW9uIChmaWxlLCByZXMpIHtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ3VwbG9hZFN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dGhhdC5sb2FkaW5nKClcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC8v5LiK5Lyg5Ye66ZSZXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ3VwbG9hZEVycm9yJywgZnVuY3Rpb24gKGZpbGUpIHtcclxuXHRcdFx0XHRcdGxheWVyLm1zZygn5LiK5Lyg5Ye66ZSZJyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly/lh7rplJlcclxuXHRcdFx0XHR1cGxvYWRlci5vbignZXJyb3InLCBmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzID09ICdRX1RZUEVfREVOSUVEJykge1xyXG5cdFx0XHRcdFx0XHRsYXllci5tc2coJ+S4iuS8oOaWh+S7tuagvOW8j+mUmeivr++8jOivt+ajgOafpScpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly/kuIrkvKDlrozmiJBcclxuXHRcdFx0XHR1cGxvYWRlci5vbigndXBsb2FkRmluaXNoZWQnLCBmdW5jdGlvbiAoZmlsZSkge1xyXG5cdFx0XHRcdFx0dXBsb2FkZXIucmVzZXQoKTtcclxuXHRcdFx0XHRcdGxheWVyLm1zZyhcIuS4iuS8oOaIkOWKn1wiKVxyXG5cdFx0XHRcdFx0dGhhdC5sb2FkaW5nKFwiY2xvc2VcIilcclxuXHRcdFx0XHRcdHRoYXQubGlzdF9HZXQoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvL+aWh+S7tuWKoOWFpemYn+WIl1xyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCdmaWxlUXVldWVkJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dXBsb2FkZXIudXBsb2FkKClcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Ly90b29sdGlwXHJcblx0XHRcdC8vIHJlcXVpcmUoWydib290c3RyYXAnXSwgKCkgPT4ge1xyXG5cdFx0XHQvLyBcdCQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKClcclxuXHRcdFx0Ly8gfSlcclxuXHRcdH0sXHJcblx0XHRkaXJlY3RpdmVzOiB7XHJcblx0XHRcdGZvY3VzOiB7XHJcblx0XHRcdFx0aW5zZXJ0ZWQoZWwpIHtcclxuXHRcdFx0XHRcdGVsLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRpZiAoZWwuZGF0YXNldC50aXBzKSB7XHJcblx0XHRcdFx0XHRcdGxheWVyLnRpcHMoYDxzcGFuIHN0eWxlPVwiY29sb3I6IzMzN2FiN1wiPiR7ZWwuZGF0YXNldC50aXBzfTwvc3Bhbj5gLCBlbCx7XHJcblx0XHRcdFx0XHRcdFx0dGlwczogWzIsICcjZmZmJ11cclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG1ldGhvZHM6IHtcclxuXHRcdFx0Ly/ph43nva5cclxuXHRcdFx0Y2xlYXIoKXtcclxuXHRcdFx0XHRpZih0aGlzLnJvbGU9PSfnu4/nkIYnKSB0aGlzLnMuc2FsZU5hbWUudmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0XHRcdHRoaXMuc2VsZWN0Mi5wcm92aW5jZS52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdFx0dGhpcy5zZWxlY3QyLmNpdHkudmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+WFqOmAiVxyXG5cdFx0XHRidG5fY2hlY2tBbGwoKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0dGhhdC5jaGVja3MgPSBbXTtcclxuXHRcdFx0XHRpZiAodGhhdC5jaGVja0FsbCkge1xyXG5cdFx0XHRcdFx0JC5lYWNoKHRoYXQuYy5saXN0LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHRoYXQuY2hlY2tzLnB1c2godGhpcy5pZClcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0X2hvdmVyKGtleSwgZWwpIHtcclxuXHRcdFx0XHRWdWUuc2V0KHRoaXMuaG92ZXJFbCwga2V5LCB7XHJcblx0XHRcdFx0XHRzaG93OiAxLFxyXG5cdFx0XHRcdFx0ZWw6IGVsXHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRfZWwoa2V5LCBlbCkge1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLnNob3cgPSBrZXk7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuZWwgPSBlbDtcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5vbGRWYWx1ZT1lbC5uYW1lXHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRfc3VibWl0KGtleSwgZWwpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygyKTtcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5zaG93ID0gJyc7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuZWwgPSB7fTtcclxuXHRcdFx0XHRWdWUuc2V0KHRoaXMuaG92ZXJFbCwga2V5LCB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHR0aGlzLnNhdmVEYXRhKGtleSwgZWwpXHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRfa2V5dXAoa2V5LGVsKXtcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5zaG93ID0gJyc7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuZWwgPSB7fTtcclxuXHRcdFx0XHRWdWUuc2V0KHRoaXMuaG92ZXJFbCwga2V5LCB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0b3ZlclRpcHMoZWwpe1xyXG5cdFx0XHRcdGxheWVyLnRpcHMoYDxzcGFuIHN0eWxlPVwiY29sb3I6IzMzN2FiN1wiPiR7ZWwucmVtYXJrfTwvc3Bhbj5gLCBcIiNyZW1hcmtfXCIgKyBlbC5pZCx7XHJcblx0XHRcdFx0XHRcdFx0dGlwczogWzIsICcjZmZmJ11cclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKipcclxuXHQgKiDkv53lrZjmlbDmja5cclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge2FueX0gZGF0YSDlvZPliY3lgLwgXHJcblx0ICogQHJldHVybnMgXHJcblx0ICovXHJcblx0XHRcdHNhdmVEYXRhKGtleSwgZWwpIHtcclxuXHRcdFx0XHRpZihrZXk9PSduYW1lJyYmZWwubmFtZT09Jycpe1xyXG5cdFx0XHRcdFx0ZWwubmFtZSAgPSB0aGlzLmVkaXRFbC5vbGRWYWx1ZVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihrZXk9PSduYW1lJyYmZWwubmFtZSA9PSB0aGlzLmVkaXRFbC5vbGRWYWx1ZSl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKGtleT09J25hbWUnKXtcclxuXHRcdFx0XHRcdCQucG9zdChjb25maWcuYXBpX2hhc05hbWUse1xyXG5cdFx0XHRcdFx0XHRuYW1lOmVsLm5hbWVcclxuXHRcdFx0XHRcdH0pLmRvbmUoKHJlcyk9PntcclxuXHRcdFx0XHRcdCAgIGlmKHJlcy5yZXN1bHQ9PSdlcnJvcicpe1xyXG5cdFx0XHRcdFx0XHRsYXllci5tc2coJ+WuouaIt+WQjeensOW3suWtmOWcqCzor7fmo4Dmn6Xph43or5UnKVxyXG5cdFx0XHRcdFx0XHRcdGVsLm5hbWUgID0gdGhpcy5lZGl0RWwub2xkVmFsdWVcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRzYXZlKClcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRzYXZlKClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZnVuY3Rpb24gc2F2ZSgpe1xyXG5cdFx0XHRcdGxldCBwb3N0RGF0YSA9IHtcclxuXHRcdFx0XHRcdGlkOiBlbC5pZCxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHBvc3REYXRhW2tleV0gPSBlbFtrZXldXHJcblx0XHRcdFx0JC5wb3N0KGNvbmZpZy5hcGlfdXBkYXRlU2FsZUN1c3RvbWVyLCBwb3N0RGF0YSwgKHJlcykgPT4ge30pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICog6L295YWl5Lit5pa55rOVXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcyDmmK/lkKblhbPpl61cclxuXHRcdFx0ICovXHJcblx0XHRcdGxvYWRpbmcocykge1xyXG5cdFx0XHRcdGlmIChzID09IFwiY2xvc2VcIikgbGF5ZXIuY2xvc2UodGhpcy5sb2FkaW5nU3dpdGNoKVxyXG5cdFx0XHRcdGVsc2UgdGhpcy5sb2FkaW5nU3dpdGNoID0gbGF5ZXIubG9hZCgzKTtcclxuXHRcdFx0XHQvLyBlbHNlIHRoaXMubG9hZGluZ1N3aXRjaCA9IGxheWVyLmxvYWQoMywgeyBzaGFkZTogWy42LCBcIiNmZmZcIl0gfSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdC8v5pCc57SiXHJcblx0XHRcdHNlYXJjaCgpIHtcclxuXHRcdFx0XHR0aGlzLnBvc3REYXRhLmtleXdvcmRzID0gJC50cmltKCQoJ1tuYW1lPWtleXdvcmRzXScpLnZhbCgpKTtcclxuXHRcdFx0XHR0aGlzLnBvc3REYXRhLnNhbGVOYW1lID0gJC50cmltKCQoJ1tuYW1lPXNhbGVOYW1lXScpLnZhbCgpKTtcclxuXHRcdFx0XHR0aGlzLnBvc3REYXRhLmNpdHlOYW1lID0gJC50cmltKCQoJ1tuYW1lPWNpdHlOYW1lXScpLnZhbCgpKTtcclxuXHRcdFx0XHR0aGlzLnBvc3REYXRhLnByb3ZpbmNlTmFtZSA9ICQudHJpbSgkKCdbbmFtZT1wcm92aW5jZU5hbWVdJykudmFsKCkpO1xyXG5cdFx0XHRcdHRoaXMucG9zdERhdGEuc3RhdHVzID0gJCgnW25hbWU9c3RhdHVzXScpLnZhbCgpXHJcblx0XHRcdFx0dGhpcy5saXN0X0dldCgxKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+iOt+WPluWIl+ihqOaVsOaNrlxyXG5cdFx0XHRsaXN0X0dldChwYWdlKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0aWYgKHBhZ2UpIHRoaXMuYy5wYWdlTnVtID0gcGFnZVxyXG5cdFx0XHRcdHRoYXQubG9hZGluZygpO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEuaXNLaEdoID0gdGhpcy5pc0toR2g7XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS5wYWdlU2l6ZSA9IHRoaXMuYy5wYWdlU2l6ZTtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLnBhZ2VObyA9IHRoaXMuYy5wYWdlTnVtO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEuZ2pUaW1lID0gdGhpcy5zb3J0LmdqVGltZTtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLnhjZ2V0VGltZSA9IHRoaXMuc29ydC54Y2dldFRpbWU7XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS54Y2hyZ2hUaW1lID0gdGhpcy5zb3J0LnhjaHJnaFRpbWU7XHJcblx0XHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdHVybDogY29uZmlnLmFwaV9zaG93U2FsZUN1c3RvbWVyLFxyXG5cdFx0XHRcdFx0YXN5bmM6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZGF0YTogdGhhdC5wb3N0RGF0YVxyXG5cdFx0XHRcdH0pLmRvbmUoKHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0dGhhdC5jID0gcmVzLnJlc3VsdDtcclxuXHRcdFx0XHRcdC8v5YiG6aG1XHJcblx0XHRcdFx0XHRpZiAodGhhdC5wYWdpKSB7XHJcblx0XHRcdFx0XHRcdCQoJy5wYWdpJykucGFnaW5hdGlvbigndXBkYXRlUGFnZXMnLCB0aGF0LmMucGFnZXMpXHJcblx0XHRcdFx0XHRcdGlmIChwYWdlID09IDEpICQoJy5wYWdpJykucGFnaW5hdGlvbignZ29Ub1BhZ2UnLCB0aGF0LmMucGFnZU51bSlcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlcXVpcmUoWydwYWdpbmF0aW9uJ10sIChwYWdpbmF0aW9uKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhhdC5wYWdpID0gJCgnLnBhZ2knKS5wYWdpbmF0aW9uKHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhZ2VzOiB0aGF0LmMucGFnZXMsIC8v5oC76aG15pWwXHJcblx0XHRcdFx0XHRcdFx0XHRzaG93Q3RybDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdGRpc3BsYXlQYWdlOiA2LFxyXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudFBhZ2U6IHRoYXQuYy5wYWdlTnVtLFxyXG5cdFx0XHRcdFx0XHRcdFx0b25TZWxlY3Q6IGZ1bmN0aW9uIChudW0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhhdC5jLnBhZ2VOdW0gPSBudW1cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhhdC5saXN0X0dldCgpXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGF0LmxvYWRpbmcoJ2Nsb3NlJyk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/mjpLluo9cclxuXHRcdFx0ZGF0YV9zb3J0KGVsKXtcclxuXHRcdFx0XHRzd2l0Y2ggKHRoaXMuc29ydFtlbF0pIHtcclxuXHRcdFx0XHRcdGNhc2UgXCJcIjpcclxuXHRcdFx0XHRcdFx0VnVlLnNldCh0aGlzLnNvcnQsZWwsMClcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAwOlxyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoaXMuc29ydCxlbCwxKVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoaXMuc29ydCxlbCxcIlwiKVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zb3J0KSB7XHJcblx0XHRcdFx0XHRpZihrZXkhPWVsKXtcclxuXHRcdFx0XHRcdFx0VnVlLnNldCh0aGlzLnNvcnQsa2V5LFwiXCIpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMubGlzdF9HZXQoMSlcclxuXHRcdFx0fSxcclxuXHRcdFx0c2hpZnRUb090aGVyKCkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdGlmICghdGhpcy5jaGVja3MubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRsYXllci5tc2coXCLor7flhYjpgInmi6nkuIDpobnov5vooYzmk43kvZxcIilcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlhbG9nID0gbGF5ZXIub3Blbih7XHJcblx0XHRcdFx0XHRcdHR5cGU6IDEsXHJcblx0XHRcdFx0XHRcdHRpdGxlOiAn6L2s56e75a6i5oi3JyxcclxuXHRcdFx0XHRcdFx0Y2xvc2VCdG46IDEsXHJcblx0XHRcdFx0XHRcdGNvbnRlbnQ6ICQoJyNzYWxlckJveCcpLFxyXG5cdFx0XHRcdFx0XHRhcmVhOiBbJzM1MHB4JywgJzIwMHB4J10sXHJcblx0XHRcdFx0XHRcdGJ0bjogXCLovaznp7tcIixcclxuXHRcdFx0XHRcdFx0YnRuQWxpZ246ICdjJyxcclxuXHRcdFx0XHRcdFx0eWVzKCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICghJCgnI3NhbGVySWQnKS52YWwoKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGF5ZXIuY2xvc2UoZGlhbG9nKVxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR5b2N0by5qc29uKGNvbmZpZy5hcGlfbW92ZUtoLCB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZDogdGhhdC5jaGVja3MsXHJcblx0XHRcdFx0XHRcdFx0XHRzYWxlSWQ6ICQoJyNzYWxlcklkJykudmFsKClcclxuXHRcdFx0XHRcdFx0XHR9LCAocmVzKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRsYXllci5jbG9zZShkaWFsb2cpXHJcblx0XHRcdFx0XHRcdFx0XHRsYXllci5tc2coXCLovaznp7vmiJDlip9cIilcclxuXHRcdFx0XHRcdFx0XHRcdHRoYXQubGlzdF9HZXQoMSlcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRzaGlmdFRvU2VhKCkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdGlmICghdGhpcy5jaGVja3MubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRsYXllci5tc2coXCLor7flhYjpgInmi6nkuIDpobnov5vooYzmk43kvZxcIilcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGlhbG9nID0gbGF5ZXIuY29uZmlybSgn6K+36YCJ5oup6L2s56e75Yiw55qE5YWs5rW3Jywge1xyXG5cdFx0XHRcdFx0XHRidG46IFsn5a6i5oi35YWs5rW3JywgJ+aXoOaEj+WQkeWFrOa1tyddLCAvL+aMiemSrlxyXG5cdFx0XHRcdFx0XHRidG5BbGlnbjogJ2MnXHJcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHlvY3RvLmpzb24oY29uZmlnLmFwaV9tb3ZlR2gsIHtcclxuXHRcdFx0XHRcdFx0XHRpZDogdGhhdC5jaGVja3MsXHJcblx0XHRcdFx0XHRcdFx0aXNLaGdoOiAwXHJcblx0XHRcdFx0XHRcdH0sIChyZXMpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coXCLovaznp7vmiJDlip9cIilcclxuXHRcdFx0XHRcdFx0XHRsYXllci5jbG9zZShkaWFsb2cpXHJcblx0XHRcdFx0XHRcdFx0dGhhdC5saXN0X0dldCgxKVxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR5b2N0by5qc29uKGNvbmZpZy5hcGlfbW92ZUdoLCB7XHJcblx0XHRcdFx0XHRcdFx0aWQ6IHRoYXQuY2hlY2tzLFxyXG5cdFx0XHRcdFx0XHRcdGlzS2hnaDogMVxyXG5cdFx0XHRcdFx0XHR9LCAocmVzKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGF5ZXIubXNnKFwi6L2s56e75oiQ5YqfXCIpXHJcblx0XHRcdFx0XHRcdFx0bGF5ZXIuY2xvc2UoZGlhbG9nKVxyXG5cdFx0XHRcdFx0XHRcdHRoYXQubGlzdF9HZXQoMSlcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/nlLXor51cclxuXHRcdFx0Y2FsbChlbCwgcGhvbmUpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHR0aGlzLmhvdmVyRWwubGlua21hbk1vYmlsZVBob25lLnNob3cgPSAwXHJcblx0XHRcdFx0dGhpcy5ob3ZlckVsLmxpbmttYW5MYW5kbGluZS5zaG93ID0gMFxyXG5cdFx0XHRcdHRoYXQubG9hZGluZygpO1xyXG5cdFx0XHRcdHRoaXMuY2FsbElkPVwiXCI7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2FsbElkPVwiXCI7XHJcblx0XHRcdFx0JC5wb3N0KGNvbmZpZy5hcGlfY2FsbCwge1xyXG5cdFx0XHRcdFx0bW9iaWxlUGhvbmU6IHBob25lXHJcblx0XHRcdFx0fSkuZG9uZSgocmVzKSA9PiB7XHJcblx0XHRcdFx0XHR0aGF0LmxvYWRpbmcoXCJjbG9zZVwiKTtcclxuXHRcdFx0XHRcdC8v5YaZ6Lef6L+b5by55Ye65qGGXHJcblx0XHRcdFx0XHR0aGF0LnNhbGVGb2xsb3dNb2RlID0gMFxyXG5cdFx0XHRcdFx0VnVlLm5leHRUaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy4kcmVmcy5mb2xsb3cuaW5pdChlbClcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQvL+W7uueri3dzXHJcblx0XHRcdFx0XHR2YXIgaHJlZiA9IGxvY2F0aW9uLmhvc3Q7XHJcblx0XHRcdFx0XHR2YXIgd3NTZXJ2ZXIgPSBgd3M6Ly8ke2hyZWZ9L3dlYlNvY2tldFNlcnZlcmA7XHJcblx0XHRcdFx0XHR2YXIgd2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh3c1NlcnZlcik7XHJcblx0XHRcdFx0XHR3ZWJzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKGV2dCkgeyBvbk9wZW4oZXZ0KSB9O1xyXG5cdFx0XHRcdFx0d2Vic29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoZXZ0KSB7IG9uQ2xvc2UoZXZ0KSB9O1xyXG5cdFx0XHRcdFx0d2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldnQpIHsgb25NZXNzYWdlKGV2dCkgfTtcclxuXHRcdFx0XHRcdHdlYnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2dCkgeyBvbkVycm9yKGV2dCkgfTtcclxuXHRcdFx0XHRcdGZ1bmN0aW9uIG9uT3BlbihldnQpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlci5cIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbkNsb3NlKGV2dCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkRpc2Nvbm5lY3RlZFwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIG9uTWVzc2FnZShldnQpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ1JldHJpZXZlZCBkYXRhIGZyb20gc2VydmVyOiAnICsgZXZ0LmRhdGEpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhldnQuZGF0YS5pbmRleE9mKCdzYWxlcjonKSk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGV2dC5kYXRhLnNwbGl0KFwic2FsZXI6XCIpWzFdKTtcclxuXHRcdFx0XHRcdFx0aWYoZXZ0LmRhdGEuaW5kZXhPZignc2FsZXI6Jyk9PTApe1xyXG5cdFx0XHRcdFx0XHRcdHRoYXQuY2FsbElkID0gZXZ0LmRhdGEuc3BsaXQoXCJzYWxlcjpcIilbMV07XHJcblx0XHRcdFx0XHRcdFx0IHdpbmRvdy5jYWxsSWQgPWV2dC5kYXRhLnNwbGl0KFwic2FsZXI6XCIpWzFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHdlYnNvY2tldC5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25FcnJvcihldnQpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yIG9jY3VyZWQ6ICcgKyBldnQuZGF0YSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR3aW5kb3cub251bmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHdlYnNvY2tldC5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdC8v5omT5byA5a6i5oi36K+m5oOFXHJcblx0XHRcdGN1c3RvbWVyX2RldGFpbChlbCkge1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGxheWVyLm9wZW4oe1xyXG5cdFx0XHRcdFx0dHlwZTogMixcclxuXHRcdFx0XHRcdHRpdGxlOiAnICcsXHJcblx0XHRcdFx0XHRjb250ZW50OiAnY3VzdG9tZXJfZGV0YWlsLmh0bWw/aWQ9JyArIGVsLmlkLFxyXG5cdFx0XHRcdFx0YXJlYTogWycxMDAlJywgJzEwMCUnXVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdF9zYWxlUmVjb3JkKGVsKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0dGhhdC5zYWxlRm9sbG93TW9kZSA9IDFcclxuXHRcdFx0XHRWdWUubmV4dFRpY2soKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhhdC4kcmVmcy5mb2xsb3cuaW5pdCh7XHJcblx0XHRcdFx0XHRcdGlkOiBlbC5pZCxcclxuXHRcdFx0XHRcdFx0bmFtZTogZWwubmFtZSxcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdC8v5ZCM5q2lXHJcblx0XHRcdHN5bmMoaWQpIHtcclxuXHRcdFx0XHRjb25zdCBkaWFsb2cgPSBsYXllci5vcGVuKHtcclxuXHRcdFx0XHRcdHR5cGU6IDIsXHJcblx0XHRcdFx0XHR0aXRsZTogJ+WQjOatpScsXHJcblx0XHRcdFx0XHRjbG9zZUJ0bjogMSxcclxuXHRcdFx0XHRcdGNvbnRlbnQ6ICcvc2FsZUN1c3RvbWVyL2dvWnkuZG8/aWQ9JyArIGlkLFxyXG5cdFx0XHRcdFx0YXJlYTogWyc3MDBweCcsICc2MDBweCddLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+mUgOWUrnNlbGVjdDJcclxuXHRcdFx0c2VsZWN0X2luaXQoZWwsIHBsYWNlaG9sZGVyLCBjbGVhcmJ0bikge1xyXG5cdFx0XHRcdHJldHVybiAkKGVsKS5zZWxlY3QyKHtcclxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciB8fCBcIuivt+mAieaLqVwiLFxyXG5cdFx0XHRcdFx0bGFuZ3VhZ2U6ICd6aC1DTicsXHJcblx0XHRcdFx0XHRhbGxvd0NsZWFyOiBjbGVhcmJ0biB8fCBmYWxzZSxcclxuXHRcdFx0XHRcdGFqYXg6IHtcclxuXHRcdFx0XHRcdFx0dXJsOiBcIi91c2VyL2dldFVzZXJJbmZvXCIsXHJcblx0XHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdFx0XHRcdHR5cGU6IFwicG9zdFwiLFxyXG5cdFx0XHRcdFx0XHRkZWxheTogMjUwLFxyXG5cdFx0XHRcdFx0XHRkYXRhOiBmdW5jdGlvbiAocGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRcdHBhZ2U6IHBhcmFtcy5wYWdlIHx8IDEsXHJcblx0XHRcdFx0XHRcdFx0XHRST0xFX0lEOiBcImI3MjllOTMzNGFkNjRjMTVhNGU0N2Q4OGI4YzI2MzhmLDMwYjE0ODcyMjE0NjRkMzY5Y2E0YzI0NjJjY2NhOTIwXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHE6IHBhcmFtcy50ZXJtIHx8IFwiXCIsIC8vIHNlYXJjaCB0ZXJtXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0cHJvY2Vzc1Jlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYXJhbXMpIHtcclxuXHRcdFx0XHRcdFx0XHRwYXJhbXMucGFnZSA9IHBhcmFtcy5wYWdlIHx8IDE7XHJcblx0XHRcdFx0XHRcdFx0JC5lYWNoKGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuaWQgPSB0aGlzLlVTRVJfSUQ7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnRleHQgPSB0aGlzLk5BTUU7XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0czogZGF0YSxcclxuXHRcdFx0XHRcdFx0XHRcdHBhZ2luYXRpb246IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bW9yZTogZGF0YS5sZW5ndGggPT0gMTBcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRjYWNoZTogdHJ1ZVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdG1pbmltdW1JbnB1dExlbmd0aDogMFxyXG5cdFx0XHRcdH0pXHJcblxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG59KVxyXG4vL+WtkOmhtemdouWkhOeQhuaWueazlVxyXG53aW5kb3cucGFyZW50Rm5jID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG5cdGxheWVyLmNsb3NlQWxsKCk7XHJcblx0Ly/mm7TmlrDorrDlvZVcclxuXHR3aW5kb3cuYXBwLmxpc3RfR2V0KClcclxufVxyXG5cclxuXHJcbiJdfQ==
