"use strict";var config={mode:yo.getQueryString("mode"),role:localStorage.userRole,reportId:yo.getQueryString("id"),api_getMonthData:"/order/getMonthData.do",api_saveMonthData:"/order/saveMonthData"};window.app=new Vue({el:"#app",data:{c:{jdjdmb:"",sjwc:"",jhrate:"",sjrate:"",gbs:"",yjja:""},year:(new Date).getFullYear(),month:(new Date).getMonth()+1,userName:JSON.parse(localStorage.userInfo).list[0].NAME,thisMonth_hkje:0,thisMonth_yjsr:0,nextMonth_hkje:0,nextMonth_yjsr:0,thisMonth:[],nextMonth:[]},created:function(){var t=this;t.loading(),$.ajax({url:config.api_getMonthData,async:!1,data:{id:config.reportId},success:function(e){t.c=$.extend({},t.c,e.result),e.result.userName&&(t.userName=e.result.userName),document.getElementById("app").classList.remove("hide"),t.loading("close");var n=[],r=t.c.rq.split("@bzf@"),o=t.c.zqr.split("@bzf@"),s=t.c.zwr.split("@bzf@"),a=t.c.hkje.split("@bzf@"),i=t.c.yjsr.split("@bzf@"),h=t.c.jhnwzd.split("@bzf@"),l=0;for(r.length=1==(1==r.length&&""!=r[0])?r.length:r.length-1,l=0;l<r.length;l++)n[l]={},n[l].rq=r[l],n[l].zqr=o[l],n[l].zwr=s[l],n[l].hkje=a[l],n[l].yjsr=i[l],n[l].jhnwzd=h[l],t.thisMonth_hkje+=Number(a[l]),t.thisMonth_yjsr+=Number(i[l]);n[0].rq&&(t.thisMonth=n);var c=[],d=t.c.yjrq.split("@bzf@"),p=t.c.yjzqr.split("@bzf@"),f=t.c.yjzwr.split("@bzf@"),j=t.c.yjhkje.split("@bzf@"),g=t.c.yjyjsr.split("@bzf@"),y=[];for(t.c.yjndfx&&t.c.yjndfx[0]&&(y=t.c.yjndfx.split("@bzf@")),d.length=1==d.length&&""!=yjrp[0]?d.length:d.length-1,l=0,l=0;l<d.length;l++)c[l]={},c[l].rq=d[l],c[l].zqr=p[l],c[l].zwr=f[l],c[l].hkje=j[l],c[l].yjsr=g[l],c[l].ndfx=y[l],t.nextMonth_hkje+=Number(j[l]),t.nextMonth_yjsr+=Number(g[l]);c[0].rq&&(t.nextMonth=c)}}),config.mode&&$("#app").find("input,textarea").prop("readonly",!0)},methods:{loading:function(t){"close"==t?layer.close(this.loadingSwitch):this.loadingSwitch=layer.load(3)},save:function(t){this.c.yjndfx=[];for(var e=0;e<this.nextMonth.length;e++)this.c.yjndfx.push(this.nextMonth[e].ndfx);this.c.yjndfx=this.c.yjndfx.join("@bzf@"),this.c.status=t,this.c.title=document.getElementById("title").innerHTML,$.post(config.api_saveMonthData,this.c,function(t){(t.error="00")?(parent&&parent.layer.closeAll(),parent&&parent.location.reload()):layer.msg(t.msg)})},edit:function(t){this.c.id=config.reportId,this.save(t)}}}),window.parentFnc=function(t){layer.closeAll(),window.app.getCaseRecord(window.app.type)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcG9ydF9tb250aF9lZGl0LjEuanMiXSwibmFtZXMiOlsiY29uZmlnIiwibW9kZSIsInlvIiwiZ2V0UXVlcnlTdHJpbmciLCJ1c2VyUm9sZSIsInJvbGUiLCJsb2NhbFN0b3JhZ2UiLCJyZXBvcnRJZCIsIndpbmRvdyIsImFwcCIsIlZ1ZSIsImVsIiwiYyIsImpkamRtYiIsInNqd2MiLCJqaHJhdGUiLCJzanJhdGUiLCJ5amphIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJwYXJzZSIsInVzZXJJbmZvIiwibGlzdCIsIk5BTUUiLCJ1c2VyTmFtZSIsInRoaXNNb250aF95anNyIiwibmV4dE1vbnRoX3lqc3IiLCJuZXh0TW9udGhfaGtqZSIsImNyZWF0ZWQiLCJ0aGF0IiwidGhpcyIsIiQiLCJhamF4IiwibG9hZGluZyIsImFwaV9nZXRNb250aERhdGEiLCJ1cmwiLCJhc3luYyIsImlkIiwiZXh0ZW5kIiwicmVzIiwicmVzdWx0Iiwic3VjY2VzcyIsInJlbW92ZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJycSIsInNwbGl0IiwiZGF0YSIsInpxciIsInp3ciIsImhramUiLCJ5anNyIiwiaSIsImpobnd6ZCIsImxlbmd0aCIsIk51bWJlciIsInRoaXNNb250aCIsInlqZGF0YSIsInlqcnEiLCJ5anpxciIsInlqendyIiwieWpoa2plIiwieWp5anNyIiwieWpuZGZ4IiwibmRmeCIsInlqcnAiLCJmaW5kIiwicHJvcCIsIm1ldGhvZHMiLCJzIiwibGF5ZXIiLCJjbG9zZSIsImxvYWRpbmdTd2l0Y2giLCJsb2FkIiwic2F2ZSIsInN0YXR1cyIsIm5leHRNb250aCIsImpvaW4iLCJpbm5lckhUTUwiLCJwb3N0IiwidGl0bGUiLCJhcGlfc2F2ZU1vbnRoRGF0YSIsInBhcmVudCIsImVycm9yIiwiY2xvc2VBbGwiLCJtc2ciLCJlZGl0IiwicGFyYW1zIiwiZ2V0Q2FzZVJlY29yZCIsInR5cGUiXSwibWFwcGlu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LEdBQUF4QyxPQTRCQThFLFNBQ0Q3QyxLQUFLckIsS0FBTGtFLE9BVVJMLE9BQUFBLFVBQUEsU0FBQWlCLEdBQ0FqQixNQUFBYyxXQUZKL0UsT0FBQUMsSUFBQWtGLGNBQUFuRixPQUFBQyxJQUFBbUYiLCJmaWxlIjoicmVwb3J0X21vbnRoX2VkaXQuMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1vZGU6IHlvLmdldFF1ZXJ5U3RyaW5nKFwibW9kZVwiKSxcclxuICAgIHJvbGU6IGxvY2FsU3RvcmFnZS51c2VyUm9sZSxcclxuICAgIHJlcG9ydElkOiB5by5nZXRRdWVyeVN0cmluZyhcImlkXCIpLFxyXG4gICAgYXBpX2dldE1vbnRoRGF0YTogJy9vcmRlci9nZXRNb250aERhdGEuZG8nLC8v6I635Y+W5b2T5pyI5pWw5o2uXHJcbiAgICBhcGlfc2F2ZU1vbnRoRGF0YTonL29yZGVyL3NhdmVNb250aERhdGEnIC8v5L+d5a2Y5pyI5oqlXHJcblxyXG59XHJcblxyXG53aW5kb3cuYXBwID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNhcHAnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAgIGM6IHtcclxuICAgICAgICAgICAgamRqZG1iOiAnJywgLy/lraPluqbnm67moIdcclxuICAgICAgICAgICAgc2p3YzogJycsLy/lrp7pmYXlrozmiJBcclxuICAgICAgICAgICAgamhyYXRlOiAnJywvL+Wto+W6puiuoeWIklxyXG4gICAgICAgICAgICBzanJhdGU6ICcnLCAvL+WujOaIkOacrOaciOiuoeWIkueZvuWIhuavlFxyXG4gICAgICAgICAgICBnYnM6IFwiXCIsXHJcbiAgICAgICAgICAgIHlqamE6IFwiXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB5ZWFyOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgbW9udGg6IG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDEsXHJcbiAgICAgICAgdXNlck5hbWU6IChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS51c2VySW5mbykpLmxpc3RbMF0uTkFNRSxcclxuICAgICAgICB0aGlzTW9udGhfaGtqZTogMCwgIC8v5pys5pyI5Zue5qy+6YeR6aKdXHJcbiAgICAgICAgdGhpc01vbnRoX3lqc3I6IDAsIC8v5pys5pyI5L2j6YeR5pS25YWlXHJcblxyXG4gICAgICAgIG5leHRNb250aF9oa2plOiAwLCAgLy/kuIvmnIhcclxuICAgICAgICBuZXh0TW9udGhfeWpzcjogMCxcclxuICAgICAgICB0aGlzTW9udGg6W10sXHJcbiAgICAgICAgbmV4dE1vbnRoOltdXHJcblxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQoKSB7XHJcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhhdC5sb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogY29uZmlnLmFwaV9nZXRNb250aERhdGEsXHJcbiAgICAgICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICBpZDpjb25maWcucmVwb3J0SWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5jID0gJC5leHRlbmQoe30sIHRoYXQuYywgcmVzLnJlc3VsdClcclxuICAgICAgICAgICAgICAgIGlmKHJlcy5yZXN1bHQudXNlck5hbWUpIHRoYXQudXNlck5hbWUgPSByZXMucmVzdWx0LnVzZXJOYW1lXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKVxyXG4gICAgICAgICAgICAgICAgdGhhdC5sb2FkaW5nKFwiY2xvc2VcIilcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcnEgPSB0aGF0LmMucnEuc3BsaXQoJ0BiemZAJylcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB6cXIgPSB0aGF0LmMuenFyLnNwbGl0KCdAYnpmQCcpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgendyID0gdGhhdC5jLnp3ci5zcGxpdCgnQGJ6ZkAnKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhramUgPSB0aGF0LmMuaGtqZS5zcGxpdCgnQGJ6ZkAnKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlqc3IgPSB0aGF0LmMueWpzci5zcGxpdCgnQGJ6ZkAnKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpobnd6ZCA9IHRoYXQuYy5qaG53emQuc3BsaXQoJ0BiemZAJylcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDBcclxuICAgICAgICAgICAgICAgICAgICBycS5sZW5ndGggPSAocnEubGVuZ3RoPT0xJiZycVswXSE9XCJcIik9PTEgPyBycS5sZW5ndGggOiAocnEubGVuZ3RoLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2ldLnJxID0gcnFbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtpXS56cXIgPSB6cXJbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtpXS56d3IgPSB6d3JbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtpXS5oa2plID0gaGtqZVtpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2ldLnlqc3IgPSB5anNyW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbaV0uamhud3pkID0gamhud3pkW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGhpc01vbnRoX2hramUgKz0gTnVtYmVyKGhramVbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGhpc01vbnRoX3lqc3IgKz0gTnVtYmVyKHlqc3JbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGFbMF0ucnEpIHRoYXQudGhpc01vbnRoID0gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5amRhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeWpycSA9IHRoYXQuYy55anJxLnNwbGl0KCdAYnpmQCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHlqenFyID0gdGhhdC5jLnlqenFyLnNwbGl0KCdAYnpmQCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHlqendyID0gdGhhdC5jLnlqendyLnNwbGl0KCdAYnpmQCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHlqaGtqZSA9IHRoYXQuYy55amhramUuc3BsaXQoJ0BiemZAJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeWp5anNyID0gdGhhdC5jLnlqeWpzci5zcGxpdCgnQGJ6ZkAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmRmeCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGF0LmMueWpuZGZ4JiZ0aGF0LmMueWpuZGZ4WzBdKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5kZnggPSB0aGF0LmMueWpuZGZ4LnNwbGl0KCdAYnpmQCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeWpycS5sZW5ndGggPSAoeWpycS5sZW5ndGg9PTEmJnlqcnBbMF0hPVwiXCIpID8geWpycS5sZW5ndGggOiAoeWpycS5sZW5ndGgtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHlqcnEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlqZGF0YVtpXSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5amRhdGFbaV0ucnEgPSB5anJxW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5amRhdGFbaV0uenFyID0geWp6cXJbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlqZGF0YVtpXS56d3IgPSB5anp3cltpXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeWpkYXRhW2ldLmhramUgPSB5amhramVbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlqZGF0YVtpXS55anNyID0geWp5anNyW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5amRhdGFbaV0ubmRmeCA9IG5kZnhbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubmV4dE1vbnRoX2hramUgKz0gTnVtYmVyKHlqaGtqZVtpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubmV4dE1vbnRoX3lqc3IgKz0gTnVtYmVyKHlqeWpzcltpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih5amRhdGFbMF0ucnEpIHRoYXQubmV4dE1vbnRoID0geWpkYXRhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoY29uZmlnLm1vZGUpIHtcclxuICAgICAgICAgICAgJCgnI2FwcCcpLmZpbmQoJ2lucHV0LHRleHRhcmVhJykucHJvcChcInJlYWRvbmx5XCIsdHJ1ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDovb3lhaXkuK3mlrnms5VcclxuICAgICAgICAgKiBcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyDmmK/lkKblhbPpl61cclxuICAgICAgICAgKi9cclxuICAgICAgICBsb2FkaW5nKHMpIHtcclxuICAgICAgICAgICAgaWYgKHMgPT0gXCJjbG9zZVwiKSBsYXllci5jbG9zZSh0aGlzLmxvYWRpbmdTd2l0Y2gpXHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5sb2FkaW5nU3dpdGNoID0gbGF5ZXIubG9hZCgzKTtcclxuICAgICAgICAgICAgLy8gZWxzZSB0aGlzLmxvYWRpbmdTd2l0Y2ggPSBsYXllci5sb2FkKDMsIHsgc2hhZGU6IFsuNiwgXCIjZmZmXCJdIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2F2ZShzdGF0dXMpIHtcclxuICAgICAgICAgICAgdGhpcy5jLnlqbmRmeCA9IFtdXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uZXh0TW9udGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgdGhpcy5jLnlqbmRmeC5wdXNoKHRoaXMubmV4dE1vbnRoW2ldLm5kZngpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jLnlqbmRmeCA9IHRoaXMuYy55am5kZnguam9pbignQGJ6ZkAnKVxyXG4gICAgICAgICAgICB0aGlzLmMuc3RhdHVzID0gc3RhdHVzXHJcbiAgICAgICAgICAgIHRoaXMuYy50aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLmlubmVySFRNTFxyXG4gICAgICAgICAgICAkLnBvc3QoY29uZmlnLmFwaV9zYXZlTW9udGhEYXRhLHRoaXMuYywocmVzKT0+e1xyXG4gICAgICAgICAgICAgICBpZihyZXMuZXJyb3I9XCIwMFwiKXtcclxuICAgICAgICAgICAgICAgICAgIHBhcmVudCYmcGFyZW50LmxheWVyLmNsb3NlQWxsKClcclxuICAgICAgICAgICAgICAgICAgIHBhcmVudCYmcGFyZW50LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgbGF5ZXIubXNnKHJlcy5tc2cpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVkaXQoc3RhdHVzKXtcclxuICAgICAgICAgICAgdGhpcy5jLmlkID0gY29uZmlnLnJlcG9ydElkXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZShzdGF0dXMpICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuLy/lrZDpobXpnaLlpITnkIbmlrnms5Vcclxud2luZG93LnBhcmVudEZuYyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgIGxheWVyLmNsb3NlQWxsKCk7XHJcbiAgICAvL+abtOaWsOiusOW9lVxyXG4gICAgd2luZG93LmFwcC5nZXRDYXNlUmVjb3JkKHdpbmRvdy5hcHAudHlwZSlcclxufVxyXG5cclxuXHJcbiJdfQ==
