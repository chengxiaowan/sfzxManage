"use strict";var config={role:localStorage.userRole,api_showSaleCustomer:"/saleCustomer/showSaleCustomer",api_qdKhgh:"/saleCustomer/qdKhgh",api_import:"/saleCustomer/importExcel.do",api_moveGh:"/saleCustomer/moveGh.do",api_moveKh:"/saleCustomer/moveKh.do",api_call:"/saleCustomer/call.do",api_hasName:"/saleCustomer/hasName",api_updateSaleCustomer:"/saleCustomer/updateSaleCustomer"};require(["module_dialog_saleoffollow","module_dialog_importExcel"],function(e,t){window.app=new Vue({el:"#app",data:{c:{},role:config.role,isKhGh:2,postData:{},posting:!1,checkAll:0,checks:[],callId:"",s:{keywords:{},saleName:{},provinceName:"",cityName:""},sort:{gjTime:"",xcgetTime:"",xchrghTime:""},select2:{},hoverEl:{name:{show:0,el:{}},linkmanLandline:{show:0,el:{}},linkmanMobilePhone:{show:0,el:{}},email:{},postion:{show:0,el:{}},linkmanName:{show:0,el:{}},remark:{show:0,el:{}}},editEl:{show:"",el:{},oldValue:""},saleFollowMode:0},computed:{citys_sub:function(){var e=this.s.provinceName,t=[],a=void 0;return console.log(e),$.each(this.citys["省份"],function(t,o){e==o.regionName&&(a=o.id)}),$.each(this.citys["市区"],function(e,o){a==o.parentId&&t.push(o)}),t}},created:function(){document.getElementById("app").classList.remove("hide"),localStorage.citys&&(this.citys=JSON.parse(localStorage.citys))},mounted:function(){function e(){t.select2.city=$("select[name=cityName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.cityName=this.value})}var t=this;this.list_Get(),this.$watch("checks",function(e,a){t.checks.length==t.c.list.length?t.checkAll=1:t.checkAll=0}),$(".select2").select2({language:"zh-CN"}),this.select2.province=$("select[name=provinceName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.provinceName=this.value,t.select2.city.select2("destroy"),e()}),e(),"经理"==t.role&&(t.s.saleName=t.select_init("[name=saleName]","请选择负责人",1));t.select_init("#salerId");require(["webuploader"],function(e){var a=e.create({server:config.api_import,formData:{isKhgh:0},runtimeOrder:"html5",pick:{id:"#excel_fileUp",innerHTML:"导入客户"},resize:!1,fileNumLimit:10});a.on("uploadSuccess",function(e,t){}),a.on("uploadStart",function(){t.loading()}),a.on("uploadError",function(e){layer.msg("上传出错")}),a.on("error",function(e){"Q_TYPE_DENIED"==e&&layer.msg("上传文件格式错误，请检查")}),a.on("uploadFinished",function(e){a.reset(),layer.msg("上传成功"),t.loading("close"),t.list_Get()}),a.on("fileQueued",function(){a.upload()})})},directives:{focus:{inserted:function(e){e.focus(),e.dataset.tips&&layer.tips('<span style="color:#337ab7">'+e.dataset.tips+"</span>",e,{tips:[2,"#fff"]})}}},methods:{clear:function(){"经理"==this.role&&this.s.saleName.val(null).trigger("change"),this.select2.province.val(null).trigger("change"),this.select2.city.val(null).trigger("change")},btn_checkAll:function(){var e=this;e.checks=[],e.checkAll&&$.each(e.c.list,function(){e.checks.push(this.id)})},edit_hover:function(e,t){Vue.set(this.hoverEl,e,{show:1,el:t})},edit_el:function(e,t){this.editEl.show=e,this.editEl.el=t,this.editEl.oldValue=t.name},edit_submit:function(e,t){console.log(2),this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}}),this.saveData(e,t)},edit_keyup:function(e,t){this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}})},overTips:function(e){layer.tips('<span style="color:#337ab7">'+e.remark+"</span>","#remark_"+e.id,{tips:[2,"#fff"]})},saveData:function(e,t){function a(){var a={id:t.id};a[e]=t[e],$.post(config.api_updateSaleCustomer,a,function(e){})}var o=this;if("name"==e&&""==t.name)return void(t.name=this.editEl.oldValue);"name"==e&&t.name==this.editEl.oldValue||("name"==e?$.post(config.api_hasName,{name:t.name}).done(function(e){if("error"==e.result)return layer.msg("客户名称已存在,请检查重试"),void(t.name=o.editEl.oldValue);a()}):a())},loading:function(e){"close"==e?layer.close(this.loadingSwitch):this.loadingSwitch=layer.load(3)},search:function(){this.postData.keywords=$.trim($("[name=keywords]").val()),this.postData.saleName=$.trim($("[name=saleName]").val()),this.postData.cityName=$.trim($("[name=cityName]").val()),this.postData.provinceName=$.trim($("[name=provinceName]").val()),this.postData.status=$("[name=status]").val(),this.list_Get(1)},list_Get:function(e){var t=this;e&&(this.c.pageNum=e),t.loading(),t.postData.isKhGh=this.isKhGh,t.postData.pageSize=this.c.pageSize,t.postData.pageNo=this.c.pageNum,t.postData.gjTime=this.sort.gjTime,t.postData.xcgetTime=this.sort.xcgetTime,t.postData.xchrghTime=this.sort.xchrghTime,$.ajax({url:config.api_showSaleCustomer,async:!1,data:t.postData}).done(function(a){t.c=a.result,t.pagi?($(".pagi").pagination("updatePages",t.c.pages),1==e&&$(".pagi").pagination("goToPage",t.c.pageNum)):require(["pagination"],function(e){t.pagi=$(".pagi").pagination({pages:t.c.pages,showCtrl:!0,displayPage:6,currentPage:t.c.pageNum,onSelect:function(e){t.c.pageNum=e,t.list_Get()}})}),t.loading("close")})},data_sort:function(e){switch(this.sort[e]){case"":Vue.set(this.sort,e,0);break;case 0:Vue.set(this.sort,e,1);break;case 1:Vue.set(this.sort,e,"")}for(var t in this.sort)t!=e&&Vue.set(this.sort,t,"");this.list_Get(1)},shiftToOther:function(){var e=this;if(this.checks.length)var t=layer.open({type:1,title:"转移客户",closeBtn:1,content:$("#salerBox"),area:["350px","200px"],btn:"转移",btnAlign:"c",yes:function(){if(!$("#salerId").val())return void layer.close(t);yocto.json(config.api_moveKh,{id:e.checks,saleId:$("#salerId").val()},function(a){layer.close(t),layer.msg("转移成功"),e.list_Get(1)})}});else layer.msg("请先选择一项进行操作")},shiftToSea:function(){var e=this;if(this.checks.length)var t=layer.confirm("请选择转移到的公海",{btn:["客户公海","无意向公海"],btnAlign:"c"},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:0},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:1},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})});else layer.msg("请先选择一项进行操作")},call:function(e,t){var a=this,o=this;this.hoverEl.linkmanMobilePhone.show=0,this.hoverEl.linkmanLandline.show=0,o.loading(),this.callId="",window.callId="",$.post(config.api_call,{mobilePhone:t}).done(function(t){function i(e){console.log("Connected to WebSocket server.")}function s(e){console.log("Disconnected")}function n(e){console.log("Retrieved data from server: "+e.data),console.log(e.data.indexOf("saler:")),console.log(e.data.split("saler:")[1]),0==e.data.indexOf("saler:")&&(o.callId=e.data.split("saler:")[1],window.callId=e.data.split("saler:")[1]),h.close()}function l(e){console.log("Error occured: "+e.data)}o.loading("close"),o.saleFollowMode=0,Vue.nextTick(function(){a.$refs.follow.init(e)});var c=location.host,r="ws://"+c+"/webSocketServer",h=new WebSocket(r);h.onopen=function(e){i(e)},h.onclose=function(e){s(e)},h.onmessage=function(e){n(e)},h.onerror=function(e){l(e)},window.onunload=function(){h.close()}})},customer_detail:function(e){layer.open({type:2,title:" ",content:"customer_detail.html?id="+e.id,area:["100%","100%"]})},edit_saleRecord:function(e){var t=this;t.saleFollowMode=1,Vue.nextTick(function(){t.$refs.follow.init({id:e.id,name:e.name})})},sync:function(e){layer.open({type:2,title:"同步",closeBtn:1,content:"/saleCustomer/goZy.do?id="+e,area:["700px","600px"]})},select_init:function(e,t,a){return $(e).select2({placeholder:t||"请选择",language:"zh-CN",allowClear:a||!1,ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(e){return{page:e.page||1,ROLE_ID:"b729e9334ad64c15a4e47d88b8c2638f,30b1487221464d369ca4c2462ccca920",data:{q:e.term||""}}},processResults:function(e,t){return t.page=t.page||1,$.each(e,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:e,pagination:{more:10==e.length}}},cache:!0},minimumInputLength:0})}}})}),window.parentFnc=function(e){layer.closeAll(),window.app.list_Get()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVyX2ZvcmNhc3QuanMiXSwibmFtZXMiOlsiY29uZmlnIiwicm9sZSIsImxvY2FsU3RvcmFnZSIsInVzZXJSb2xlIiwiYXBpX3Nob3dTYWxlQ3VzdG9tZXIiLCJhcGlfcWRLaGdoIiwiYXBpX2ltcG9ydCIsImFwaV9tb3ZlR2giLCJhcGlfbW92ZUtoIiwiYXBpX2NhbGwiLCJhcGlfdXBkYXRlU2FsZUN1c3RvbWVyIiwiZGlhbG9nX2ZvbGxvdyIsImltcG9ydEV4Y2VsIiwicmVxdWlyZSIsImFwcCIsIlZ1ZSIsIndpbmRvdyIsImVsIiwiZGF0YSIsImMiLCJpc0toR2giLCJwb3N0RGF0YSIsInBvc3RpbmciLCJjaGVja0FsbCIsImNoZWNrcyIsInMiLCJrZXl3b3JkcyIsInNhbGVOYW1lIiwicHJvdmluY2VOYW1lIiwic29ydCIsImdqVGltZSIsInhjZ2V0VGltZSIsInNlbGVjdDIiLCJuYW1lIiwic2hvdyIsInBvc3Rpb24iLCJsaW5rbWFuTmFtZSIsInJlbWFyayIsImVkaXRFbCIsIm9sZFZhbHVlIiwic2FsZUZvbGxvd01vZGUiLCJjb21wdXRlZCIsImNpdHlzX3N1YiIsInByb3ZpbmNlIiwiY29uc29sZSIsImVhY2giLCJwcm92aW5jZUlkIiwiY3JlYXRlZCIsImxvZyIsIiQiLCJ0aGlzIiwiY2l0eXMiLCJpIiwiY2l0eSIsImlkIiwicGFyZW50SWQiLCJwdXNoIiwiZG9jdW1lbnQiLCJtb3VudGVkIiwiSlNPTiIsInBhcnNlIiwicGxhY2Vob2xkZXIiLCJhbGxvd0NsZWFyIiwibGFuZ3VhZ2UiLCJ0aGF0IiwiY2l0eU5hbWUiLCJvbiIsInZhbHVlIiwiJHdhdGNoIiwibyIsIm4iLCJsZW5ndGgiLCJsaXN0IiwiY2l0eV9pbml0Iiwic2FsZXJJZCIsInNlbGVjdF9pbml0Iiwic2VydmVyIiwiZm9ybURhdGEiLCJXZWJVcGxvYWRlciIsImNyZWF0ZSIsInJ1bnRpbWVPcmRlciIsImlzS2hnaCIsInBpY2siLCJyZXNpemUiLCJmaWxlTnVtTGltaXQiLCJsb2FkaW5nIiwiZmlsZSIsInJlcyIsInVwbG9hZGVyIiwibGF5ZXIiLCJsaXN0X0dldCIsInJlc2V0IiwibXNnIiwidXBsb2FkIiwiZm9jdXMiLCJ0aXBzIiwiZGF0YXNldCIsIm1ldGhvZHMiLCJjbGVhciIsInZhbCIsInRyaWdnZXIiLCJrZXkiLCJlZGl0X2VsIiwiZWRpdF9zdWJtaXQiLCJzZXQiLCJob3ZlckVsIiwic2F2ZURhdGEiLCJvdmVyVGlwcyIsInNhdmUiLCJfdGhpcyIsInBvc3QiLCJhcGlfaGFzTmFtZSIsImRvbmUiLCJyZXN1bHQiLCJjbG9zZSIsImxvYWRpbmdTd2l0Y2giLCJsb2FkIiwic2VhcmNoIiwidHJpbSIsInN0YXR1cyIsInBhZ2UiLCJwYWdlTnVtIiwicGFnZVNpemUiLCJwYWdlTm8iLCJ1cmwiLCJhc3luYyIsInBhZ2kiLCJwYWdlcyIsInBhZ2luYXRpb24iLCJzaG93Q3RybCIsImRpc3BsYXlQYWdlIiwiY3VycmVudFBhZ2UiLCJvblNlbGVjdCIsIm51bSIsImRhdGFfc29ydCIsInNoaWZ0VG9PdGhlciIsIm9wZW4iLCJ0eXBlIiwidGl0bGUiLCJkaWFsb2ciLCJjbG9zZUJ0biIsImNvbnRlbnQiLCJhcmVhIiwiYnRuIiwiYnRuQWxpZ24iLCJ5ZXMiLCJ5b2N0byIsImpzb24iLCJzYWxlSWQiLCJzaGlmdFRvU2VhIiwiY29uZmlybSIsImNhbGwiLCJwaG9uZSIsIl90aGlzMiIsImxpbmttYW5Nb2JpbGVQaG9uZSIsImxpbmttYW5MYW5kbGluZSIsImNhbGxJZCIsIndlYnNvY2tldCIsImV2dCIsIm9uT3BlbiIsIm9uQ2xvc2UiLCJvbk1lc3NhZ2UiLCJpbmRleE9mIiwib25lcnJvciIsInNwbGl0Iiwib25FcnJvciIsIm1vYmlsZVBob25lIiwiZm9sbG93IiwiaW5pdCIsIm5leHRUaWNrIiwiaG9zdCIsIndzU2VydmVyIiwiV2ViU29ja2V0Iiwib25vcGVuIiwiaHJlZiIsImN1c3RvbWVyX2RldGFpbCIsImVkaXRfc2FsZVJlY29yZCIsImluZGV4IiwiY2xlYXJidG4iLCJzeW5jIiwiZGVsYXkiLCJwYXJhbXMiLCJkYXRhVHlwZSIsIlVTRVJfSUQiLCJ0ZXh0IiwiTkFNRSIsIlJPTEVfSUQiLCJxIiwidGVybSIsIm1pbmltdW1JbnB1dExlbmd0aCIsImNhY2hlIiwiY2xvc2VBbGwiXSwibWFwcGluZ3MiOiJZQUFBLElBQU1BLFNBQ0xDLEtBQU1DLGFBQWFDLFNBRHBCQyxxQkFBZSxpQ0FDZEgsV0FBTUMsdUJBQ05FLFdBQUFBLCtCQUNBQyxXQUFZLDBCQUNaQyxXQUFZLDBCQUNaQyxTQUFBQSx3QkFDQUMsWUFBWSx3QkFDWkMsdUJBQVUsbUNBRVZDLFVBQUFBLDZCQUF3Qiw2QkFUekIsU0FBQUMsRUFBQUMsR0FXQUMsT0FBUUMsSUFBQyxHQUFBQyxNQUNSQyxHQUFBQSxPQUNDQyxNQUNBQyxLQUNDQyxLQURLbkIsT0FBQUMsS0FFTEEsT0FBTUQsRUFDTm9CLFlBQ0FDLFNBQUFBLEVBQ0FDLFNBQVMsRUFDVEMsVUFDQUMsT0FBUSxHQUVSQyxHQUNBQSxZQUNDQyxZQUNBQyxhQUZFLEdBR0ZDLFNBQUFBLElBSEVDLE1BTUhBLE9BQUssR0FDSEMsVUFERyxHQUVIQyxXQUFVLElBRlBDLFdBVUpDLFNBQ0NDLE1BQ0FqQixLQUFJLEVBSEdBLE9BTVBpQixpQkFDQWpCLEtBQUksRUFQR0EsT0FVUGlCLG9CQUNBakIsS0FBSSxFQVhHQSxPQWdCUmtCLFNBQVNBLFNBSVRDLEtBQUFBLEVBQ0NGLE9BRFlFLGFBSWJDLEtBQUFBLEVBQ0NILE9BRE9HLFFBakRKSCxLQUFBLEVBc0RMSSxRQUdDQyxRQXpESUwsS0FBQSxHQTJETE0sTUE3RG1CRCxTQUFBLElBZ0VuQkMsZUFBQSxHQUVDQyxVQUVBQyxVQUZNQyxXQUdOQyxHQUFBQSxHQUFZRCxLQUFabEIsRUFBQUcsYUFDRWlCLEtBQ0RDLE1BQUFBLEVBU0hDLE9BUkdILFNBRkRJLElBQUFMLEdBR0FNLEVBQUVKLEtBQUtLLEtBQUtDLE1BQU0sTUFBTyxTQUFBQyxFQUFBbkMsR0FDcEI2QixHQUFBQSxFQUFjN0IsYUFBYW9DLEVB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QyxLQURzQnhILEVBQUFnQixVQVF4QitJLEtBN1JJLFNBNlJKQSxHQUNDdkYsTUFBQStDLE1BQ0F4RSxLQUFLeEIsRUFDTHpCLE1BQUkwSixLQUNIekcsU0FBQSxFQUNDVixRQUFPQSw0QkFEZUEsRUFFdEJyQixNQUFNaEIsUUFBR2dCLFlBZ0JaMEMsWUFuVEksU0FtVFExRCxFQUFJNEMsRUFBYXFILEdBWDdCLE1BQUFqSSxHQUFBaEMsR0FBQWUsU0FDQW1KLFlBNVNRdEgsR0E0U0MsTUFDUkUsU0FBTTRFLFFBQ0xGLFdBRHlCeUMsSUFBQSxFQUV6QnhDLE1BQ0FFLElBQUFBLG9CQUNBQyxTQUFTLE9BQ1RDLEtBQU8sT0FMUnNDLE1BQUEsSUE3U09sSyxLQUFBLFNBQUFtSyxHQWlVSixPQVpKN0QsS0FBQTZELEVBQUE3RCxNQUFBLEVBQ0E3QyxRQXRUUSxvRUF1VFB6RCxNQUNDMkMsRUFBQUEsRUFBYUEsTUFBQUEsTUFJWitELGVBQUssU0FEQTFHLEVBQUFtSyxHQU9IN0QsTUFMRjhELEdBQUFBLEtBQVVELEVBRkw3RCxNQUFBLEVBR0xpQixFQUFBQSxLQUFNdkgsRUFIRCxXQUlMa0ssS0FBTzlILEdBSkZKLEtBQUFxSSxRQUtMckssS0FBTXNLLEtBQUF0SSxLQUFBdUksUUFHSkMsUUFBU3hLLEVBQ1RBLFlBQ0N5SyxLQURLLElBQ0ZOLEVBQU9PLFVBS1pQLE9BQUFBLEdBRUNRLG1CQUFlTixVQVVqQk8sT0FBQUEsVUFBTyxTQUFBVCxHQTNCRjVGLE1BSmNzRyxXQUFBL0ssT0FBckJGLElBQUE0RSIsImZpbGUiOiJzYWxlcl9mb3JjYXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnID0ge1xyXG5cdHJvbGU6IGxvY2FsU3RvcmFnZS51c2VyUm9sZSxcclxuXHRhcGlfc2hvd1NhbGVDdXN0b21lcjogJy9zYWxlQ3VzdG9tZXIvc2hvd1NhbGVDdXN0b21lcicsIC8v6I635Y+W5a6i5oi35YiX6KGoXHJcblx0YXBpX3FkS2hnaDogJy9zYWxlQ3VzdG9tZXIvcWRLaGdoJywgLy/miqLlpLrlrqLmiLdcclxuXHRhcGlfaW1wb3J0OiBcIi9zYWxlQ3VzdG9tZXIvaW1wb3J0RXhjZWwuZG9cIiwgLy/lr7zlhaXlrqLmiLdcclxuXHRhcGlfbW92ZUdoOiBcIi9zYWxlQ3VzdG9tZXIvbW92ZUdoLmRvXCIsIC8v6L2s56e76Iez5YWs5rW3XHJcblx0YXBpX21vdmVLaDogXCIvc2FsZUN1c3RvbWVyL21vdmVLaC5kb1wiLCAvL+i9rOenu+e7meS7luS6ulxyXG5cdGFwaV9jYWxsOiBcIi9zYWxlQ3VzdG9tZXIvY2FsbC5kb1wiLFxyXG5cdGFwaV9oYXNOYW1lOicvc2FsZUN1c3RvbWVyL2hhc05hbWUnLCAvL+afpemHjVxyXG5cdGFwaV91cGRhdGVTYWxlQ3VzdG9tZXI6ICcvc2FsZUN1c3RvbWVyL3VwZGF0ZVNhbGVDdXN0b21lcicsIC8v5L+d5a2Y5a6i5oi35L+h5oGvXHJcbn1cclxucmVxdWlyZShbJ21vZHVsZV9kaWFsb2dfc2FsZW9mZm9sbG93JywgJ21vZHVsZV9kaWFsb2dfaW1wb3J0RXhjZWwnXSwgKGRpYWxvZ19mb2xsb3csIGltcG9ydEV4Y2VsKSA9PiB7XHJcblx0d2luZG93LmFwcCA9IG5ldyBWdWUoe1xyXG5cdFx0ZWw6ICcjYXBwJyxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0Yzoge30sXHJcblx0XHRcdHJvbGU6IGNvbmZpZy5yb2xlLFxyXG5cdFx0XHRpc0toR2g6IDIsXHJcblx0XHRcdHBvc3REYXRhOiB7fSxcclxuXHRcdFx0cG9zdGluZzogZmFsc2UsIC8v5piv5ZCm5q2j5Zyo5LiK5Lyg5pWw5o2uXHJcblx0XHRcdGNoZWNrQWxsOiAwLFxyXG5cdFx0XHRjaGVja3M6IFtdLFxyXG5cdFx0XHRjYWxsSWQ6ICcnLFxyXG5cdFx0XHQvL+aQnOe0oumhuVxyXG5cdFx0XHRzOiB7XHJcblx0XHRcdFx0a2V5d29yZHM6IHt9LFxyXG5cdFx0XHRcdHNhbGVOYW1lOiB7fSxcclxuXHRcdFx0XHRwcm92aW5jZU5hbWU6IFwiXCIsXHJcblx0XHRcdFx0Y2l0eU5hbWU6IFwiXCIsXHJcblx0XHRcdH0sXHJcblx0XHRcdHNvcnQ6e1xyXG5cdFx0XHRcdFx0Z2pUaW1lOlwiXCIsXHJcblx0XHRcdFx0XHR4Y2dldFRpbWU6XCJcIixcclxuXHRcdFx0XHRcdHhjaHJnaFRpbWU6XCJcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZWxlY3QyOiB7XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+e8lui+keaooeW8j1xyXG5cdFx0XHRob3ZlckVsOiB7XHJcblx0XHRcdFx0bmFtZToge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bGlua21hbkxhbmRsaW5lOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRsaW5rbWFuTW9iaWxlUGhvbmU6IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGVtYWlsOntcclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRwb3N0aW9uOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRsaW5rbWFuTmFtZToge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cmVtYXJrOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0RWw6IHtcclxuXHRcdFx0XHRzaG93OiAnJyxcclxuXHRcdFx0XHRlbDoge30sXHJcblx0XHRcdFx0b2xkVmFsdWU6XCJcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzYWxlRm9sbG93TW9kZTogMFxyXG5cdFx0fSxcclxuXHRcdGNvbXB1dGVkOiB7XHJcblx0XHRcdC8v5Z+O5biC5YiX6KGoXHJcblx0XHRcdGNpdHlzX3N1YigpIHtcclxuXHRcdFx0XHRjb25zdCBwcm92aW5jZSA9IHRoaXMucy5wcm92aW5jZU5hbWU7XHJcblx0XHRcdFx0bGV0IGNpdHkgPSBbXTtcclxuXHRcdFx0XHRsZXQgcHJvdmluY2VJZDtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhwcm92aW5jZSk7XHJcblx0XHRcdFx0JC5lYWNoKHRoaXMuY2l0eXNbJ+ecgeS7vSddLCAoaSwgZWwpID0+IHtcclxuXHRcdFx0XHRcdGlmIChwcm92aW5jZSA9PSBlbC5yZWdpb25OYW1lKSBwcm92aW5jZUlkID0gZWwuaWRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdCQuZWFjaCh0aGlzLmNpdHlzWyfluILljLonXSwgKGksIGVsKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocHJvdmluY2VJZCA9PSBlbC5wYXJlbnRJZCkgY2l0eS5wdXNoKGVsKVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdHJldHVybiBjaXR5O1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Y3JlYXRlZCgpIHtcclxuXHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpXHJcblx0XHRcdC8v5Yid5aeL5YyW5Z+O5biC5pWw5o2uXHJcblx0XHRcdGlmIChsb2NhbFN0b3JhZ2UuY2l0eXMpIHtcclxuXHRcdFx0XHR0aGlzLmNpdHlzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY2l0eXMpXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRtb3VudGVkKCkge1xyXG5cdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0Ly/ml7bpl7TpgInmi6nliJ3lp4vljJZcclxuXHRcdFx0Ly8gcmVxdWlyZShbJ2RhdGVUaW1lSW5pdCddLCAoZGF0ZVRpbWVJbml0KSA9PiB7XHJcblx0XHRcdC8vIFx0ZGF0ZVRpbWVJbml0KClcclxuXHRcdFx0Ly8gfSlcclxuXHRcdFx0Ly/ojrflj5bliJfooahcclxuXHRcdFx0dGhpcy5saXN0X0dldCgpXHJcblx0XHRcdC8v55uR5ZCs5YWo6YCJcFxyXG5cdFx0XHR0aGlzLiR3YXRjaCgnY2hlY2tzJywgKG8sIG4pID0+IHtcclxuXHRcdFx0XHRpZiAodGhhdC5jaGVja3MubGVuZ3RoID09IHRoYXQuYy5saXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dGhhdC5jaGVja0FsbCA9IDFcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhhdC5jaGVja0FsbCA9IDBcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC8v5LiL5ouJ5qGG5Yid5aeL5YyWXHJcblx0XHRcdCQoXCIuc2VsZWN0MlwiKS5zZWxlY3QyKHtcclxuXHRcdFx0XHRsYW5ndWFnZTogXCJ6aC1DTlwiXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHR0aGlzLnNlbGVjdDIucHJvdmluY2UgPSAkKCdzZWxlY3RbbmFtZT1wcm92aW5jZU5hbWVdJykuc2VsZWN0Mih7XHJcblx0XHRcdFx0bGFuZ3VhZ2U6IFwiemgtQ05cIixcclxuXHRcdFx0XHRwbGFjZWhvbGRlcjogJ+ivt+mAieaLqScsXHJcblx0XHRcdFx0YWxsb3dDbGVhcjoxLFxyXG5cdFx0XHR9KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRoYXQucy5wcm92aW5jZU5hbWUgPSB0aGlzLnZhbHVlO1xyXG5cdFx0XHRcdHRoYXQuc2VsZWN0Mi5jaXR5LnNlbGVjdDIoJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHRjaXR5X2luaXQoKVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRjaXR5X2luaXQoKVxyXG5cdFx0XHRmdW5jdGlvbiBjaXR5X2luaXQoKSB7XHJcblx0XHRcdFx0dGhhdC5zZWxlY3QyLmNpdHkgPSAkKCdzZWxlY3RbbmFtZT1jaXR5TmFtZV0nKS5zZWxlY3QyKHtcclxuXHRcdFx0XHRcdGxhbmd1YWdlOiBcInpoLUNOXCIsXHJcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogJ+ivt+mAieaLqScsXHJcblx0XHRcdFx0XHRhbGxvd0NsZWFyOjFcclxuXHRcdFx0XHR9KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dGhhdC5zLmNpdHlOYW1lID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKCB0aGF0LnJvbGU9PSfnu4/nkIYnKXtcclxudGhhdC5zLnNhbGVOYW1lID0gdGhhdC5zZWxlY3RfaW5pdCgnW25hbWU9c2FsZU5hbWVdJywgJ+ivt+mAieaLqei0n+i0o+S6uicsIDEpXHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3Qgc2FsZXJJZCA9IHRoYXQuc2VsZWN0X2luaXQoJyNzYWxlcklkJylcclxuXHJcblx0XHRcdC8v5Yid5aeL5YyW5LiK5LygXHJcblxyXG5cdFx0XHRyZXF1aXJlKFsnd2VidXBsb2FkZXInXSwgKFdlYlVwbG9hZGVyKSA9PiB7XHJcblx0XHRcdFx0dmFyIHVwbG9hZGVyID0gV2ViVXBsb2FkZXIuY3JlYXRlKHtcclxuXHRcdFx0XHRcdC8vIOaWh+S7tuaOpeaUtuacjeWKoeerr+OAglxyXG5cdFx0XHRcdFx0c2VydmVyOiBjb25maWcuYXBpX2ltcG9ydCxcclxuXHRcdFx0XHRcdGZvcm1EYXRhOiB7XHJcblx0XHRcdFx0XHRcdGlzS2hnaDogMFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHJ1bnRpbWVPcmRlcjogJ2h0bWw1JyxcclxuXHRcdFx0XHRcdC8vIOWGhemDqOagueaNruW9k+WJjei/kOihjOaYr+WIm+W7uu+8jOWPr+iDveaYr2lucHV05YWD57Sg77yM5Lmf5Y+v6IO95pivZmxhc2guXHJcblx0XHRcdFx0XHRwaWNrOiB7XHJcblx0XHRcdFx0XHRcdGlkOiAnI2V4Y2VsX2ZpbGVVcCcsXHJcblx0XHRcdFx0XHRcdGlubmVySFRNTDogJ+WvvOWFpeWuouaItydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRyZXNpemU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZmlsZU51bUxpbWl0OiAxMFxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvL+S4iuS8oOaIkOWKn1xyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCd1cGxvYWRTdWNjZXNzJywgZnVuY3Rpb24gKGZpbGUsIHJlcykge1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR1cGxvYWRlci5vbigndXBsb2FkU3RhcnQnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR0aGF0LmxvYWRpbmcoKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0Ly/kuIrkvKDlh7rplJlcclxuXHRcdFx0XHR1cGxvYWRlci5vbigndXBsb2FkRXJyb3InLCBmdW5jdGlvbiAoZmlsZSkge1xyXG5cdFx0XHRcdFx0bGF5ZXIubXNnKCfkuIrkvKDlh7rplJknKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvL+WHuumUmVxyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0XHRcdGlmIChyZXMgPT0gJ1FfVFlQRV9ERU5JRUQnKSB7XHJcblx0XHRcdFx0XHRcdGxheWVyLm1zZygn5LiK5Lyg5paH5Lu25qC85byP6ZSZ6K+v77yM6K+35qOA5p+lJylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvL+S4iuS8oOWujOaIkFxyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCd1cGxvYWRGaW5pc2hlZCcsIGZ1bmN0aW9uIChmaWxlKSB7XHJcblx0XHRcdFx0XHR1cGxvYWRlci5yZXNldCgpO1xyXG5cdFx0XHRcdFx0bGF5ZXIubXNnKFwi5LiK5Lyg5oiQ5YqfXCIpXHJcblx0XHRcdFx0XHR0aGF0LmxvYWRpbmcoXCJjbG9zZVwiKVxyXG5cdFx0XHRcdFx0dGhhdC5saXN0X0dldCgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8v5paH5Lu25Yqg5YWl6Zif5YiXXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ2ZpbGVRdWV1ZWQnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR1cGxvYWRlci51cGxvYWQoKVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQvL3Rvb2x0aXBcclxuXHRcdFx0Ly8gcmVxdWlyZShbJ2Jvb3RzdHJhcCddLCAoKSA9PiB7XHJcblx0XHRcdC8vIFx0JCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKVxyXG5cdFx0XHQvLyB9KVxyXG5cdFx0fSxcclxuXHRcdGRpcmVjdGl2ZXM6IHtcclxuXHRcdFx0Zm9jdXM6IHtcclxuXHRcdFx0XHRpbnNlcnRlZChlbCkge1xyXG5cdFx0XHRcdFx0ZWwuZm9jdXMoKTtcclxuXHRcdFx0XHRcdGlmIChlbC5kYXRhc2V0LnRpcHMpIHtcclxuXHRcdFx0XHRcdFx0bGF5ZXIudGlwcyhgPHNwYW4gc3R5bGU9XCJjb2xvcjojMzM3YWI3XCI+JHtlbC5kYXRhc2V0LnRpcHN9PC9zcGFuPmAsIGVsLHtcclxuXHRcdFx0XHRcdFx0XHR0aXBzOiBbMiwgJyNmZmYnXVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0bWV0aG9kczoge1xyXG5cdFx0XHQvL+mHjee9rlxyXG5cdFx0XHRjbGVhcigpe1xyXG5cdFx0XHRcdGlmKHRoaXMucm9sZT09J+e7j+eQhicpIHRoaXMucy5zYWxlTmFtZS52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdFx0dGhpcy5zZWxlY3QyLnByb3ZpbmNlLnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHRcdFx0XHR0aGlzLnNlbGVjdDIuY2l0eS52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdH0sXHJcblx0XHRcdC8v5YWo6YCJXHJcblx0XHRcdGJ0bl9jaGVja0FsbCgpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHR0aGF0LmNoZWNrcyA9IFtdO1xyXG5cdFx0XHRcdGlmICh0aGF0LmNoZWNrQWxsKSB7XHJcblx0XHRcdFx0XHQkLmVhY2godGhhdC5jLmxpc3QsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dGhhdC5jaGVja3MucHVzaCh0aGlzLmlkKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRfaG92ZXIoa2V5LCBlbCkge1xyXG5cdFx0XHRcdFZ1ZS5zZXQodGhpcy5ob3ZlckVsLCBrZXksIHtcclxuXHRcdFx0XHRcdHNob3c6IDEsXHJcblx0XHRcdFx0XHRlbDogZWxcclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdF9lbChrZXksIGVsKSB7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuc2hvdyA9IGtleTtcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5lbCA9IGVsO1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLm9sZFZhbHVlPWVsLm5hbWVcclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdF9zdWJtaXQoa2V5LCBlbCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKDIpO1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLnNob3cgPSAnJztcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5lbCA9IHt9O1xyXG5cdFx0XHRcdFZ1ZS5zZXQodGhpcy5ob3ZlckVsLCBrZXksIHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdHRoaXMuc2F2ZURhdGEoa2V5LCBlbClcclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdF9rZXl1cChrZXksZWwpe1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLnNob3cgPSAnJztcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5lbCA9IHt9O1xyXG5cdFx0XHRcdFZ1ZS5zZXQodGhpcy5ob3ZlckVsLCBrZXksIHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRvdmVyVGlwcyhlbCl7XHJcblx0XHRcdFx0bGF5ZXIudGlwcyhgPHNwYW4gc3R5bGU9XCJjb2xvcjojMzM3YWI3XCI+JHtlbC5yZW1hcmt9PC9zcGFuPmAsIFwiI3JlbWFya19cIiArIGVsLmlkLHtcclxuXHRcdFx0XHRcdFx0XHR0aXBzOiBbMiwgJyNmZmYnXVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdC8qKlxyXG5cdCAqIOS/neWtmOaVsOaNrlxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7YW55fSBkYXRhIOW9k+WJjeWAvCBcclxuXHQgKiBAcmV0dXJucyBcclxuXHQgKi9cclxuXHRcdFx0c2F2ZURhdGEoa2V5LCBlbCkge1xyXG5cdFx0XHRcdGlmKGtleT09J25hbWUnJiZlbC5uYW1lPT0nJyl7XHJcblx0XHRcdFx0XHRlbC5uYW1lICA9IHRoaXMuZWRpdEVsLm9sZFZhbHVlXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKGtleT09J25hbWUnJiZlbC5uYW1lID09IHRoaXMuZWRpdEVsLm9sZFZhbHVlKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYoa2V5PT0nbmFtZScpe1xyXG5cdFx0XHRcdFx0JC5wb3N0KGNvbmZpZy5hcGlfaGFzTmFtZSx7XHJcblx0XHRcdFx0XHRcdG5hbWU6ZWwubmFtZVxyXG5cdFx0XHRcdFx0fSkuZG9uZSgocmVzKT0+e1xyXG5cdFx0XHRcdFx0ICAgaWYocmVzLnJlc3VsdD09J2Vycm9yJyl7XHJcblx0XHRcdFx0XHRcdGxheWVyLm1zZygn5a6i5oi35ZCN56ew5bey5a2Y5ZyoLOivt+ajgOafpemHjeivlScpXHJcblx0XHRcdFx0XHRcdFx0ZWwubmFtZSAgPSB0aGlzLmVkaXRFbC5vbGRWYWx1ZVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHNhdmUoKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHNhdmUoKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmdW5jdGlvbiBzYXZlKCl7XHJcblx0XHRcdFx0bGV0IHBvc3REYXRhID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGVsLmlkLFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0cG9zdERhdGFba2V5XSA9IGVsW2tleV1cclxuXHRcdFx0XHQkLnBvc3QoY29uZmlnLmFwaV91cGRhdGVTYWxlQ3VzdG9tZXIsIHBvc3REYXRhLCAocmVzKSA9PiB7fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0sXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiDovb3lhaXkuK3mlrnms5VcclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBzIOaYr+WQpuWFs+mXrVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bG9hZGluZyhzKSB7XHJcblx0XHRcdFx0aWYgKHMgPT0gXCJjbG9zZVwiKSBsYXllci5jbG9zZSh0aGlzLmxvYWRpbmdTd2l0Y2gpXHJcblx0XHRcdFx0ZWxzZSB0aGlzLmxvYWRpbmdTd2l0Y2ggPSBsYXllci5sb2FkKDMpO1xyXG5cdFx0XHRcdC8vIGVsc2UgdGhpcy5sb2FkaW5nU3dpdGNoID0gbGF5ZXIubG9hZCgzLCB7IHNoYWRlOiBbLjYsIFwiI2ZmZlwiXSB9KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/mkJzntKJcclxuXHRcdFx0c2VhcmNoKCkge1xyXG5cdFx0XHRcdHRoaXMucG9zdERhdGEua2V5d29yZHMgPSAkLnRyaW0oJCgnW25hbWU9a2V5d29yZHNdJykudmFsKCkpO1xyXG5cdFx0XHRcdHRoaXMucG9zdERhdGEuc2FsZU5hbWUgPSAkLnRyaW0oJCgnW25hbWU9c2FsZU5hbWVdJykudmFsKCkpO1xyXG5cdFx0XHRcdHRoaXMucG9zdERhdGEuY2l0eU5hbWUgPSAkLnRyaW0oJCgnW25hbWU9Y2l0eU5hbWVdJykudmFsKCkpO1xyXG5cdFx0XHRcdHRoaXMucG9zdERhdGEucHJvdmluY2VOYW1lID0gJC50cmltKCQoJ1tuYW1lPXByb3ZpbmNlTmFtZV0nKS52YWwoKSk7XHJcblx0XHRcdFx0dGhpcy5wb3N0RGF0YS5zdGF0dXMgPSAkKCdbbmFtZT1zdGF0dXNdJykudmFsKClcclxuXHRcdFx0XHR0aGlzLmxpc3RfR2V0KDEpXHJcblx0XHRcdH0sXHJcblx0XHRcdC8v6I635Y+W5YiX6KGo5pWw5o2uXHJcblx0XHRcdGxpc3RfR2V0KHBhZ2UpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHRpZiAocGFnZSkgdGhpcy5jLnBhZ2VOdW0gPSBwYWdlXHJcblx0XHRcdFx0dGhhdC5sb2FkaW5nKCk7XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS5pc0toR2ggPSB0aGlzLmlzS2hHaDtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLnBhZ2VTaXplID0gdGhpcy5jLnBhZ2VTaXplO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEucGFnZU5vID0gdGhpcy5jLnBhZ2VOdW07XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS5nalRpbWUgPSB0aGlzLnNvcnQuZ2pUaW1lO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEueGNnZXRUaW1lID0gdGhpcy5zb3J0LnhjZ2V0VGltZTtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLnhjaHJnaFRpbWUgPSB0aGlzLnNvcnQueGNocmdoVGltZTtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiBjb25maWcuYXBpX3Nob3dTYWxlQ3VzdG9tZXIsXHJcblx0XHRcdFx0XHRhc3luYzogZmFsc2UsXHJcblx0XHRcdFx0XHRkYXRhOiB0aGF0LnBvc3REYXRhXHJcblx0XHRcdFx0fSkuZG9uZSgocmVzKSA9PiB7XHJcblx0XHRcdFx0XHR0aGF0LmMgPSByZXMucmVzdWx0O1xyXG5cdFx0XHRcdFx0Ly/liIbpobVcclxuXHRcdFx0XHRcdGlmICh0aGF0LnBhZ2kpIHtcclxuXHRcdFx0XHRcdFx0JCgnLnBhZ2knKS5wYWdpbmF0aW9uKCd1cGRhdGVQYWdlcycsIHRoYXQuYy5wYWdlcylcclxuXHRcdFx0XHRcdFx0aWYgKHBhZ2UgPT0gMSkgJCgnLnBhZ2knKS5wYWdpbmF0aW9uKCdnb1RvUGFnZScsIHRoYXQuYy5wYWdlTnVtKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVxdWlyZShbJ3BhZ2luYXRpb24nXSwgKHBhZ2luYXRpb24pID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGF0LnBhZ2kgPSAkKCcucGFnaScpLnBhZ2luYXRpb24oe1xyXG5cdFx0XHRcdFx0XHRcdFx0cGFnZXM6IHRoYXQuYy5wYWdlcywgLy/mgLvpobXmlbBcclxuXHRcdFx0XHRcdFx0XHRcdHNob3dDdHJsOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGxheVBhZ2U6IDYsXHJcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZTogdGhhdC5jLnBhZ2VOdW0sXHJcblx0XHRcdFx0XHRcdFx0XHRvblNlbGVjdDogZnVuY3Rpb24gKG51bSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGF0LmMucGFnZU51bSA9IG51bVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGF0Lmxpc3RfR2V0KClcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoYXQubG9hZGluZygnY2xvc2UnKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+aOkuW6j1xyXG5cdFx0XHRkYXRhX3NvcnQoZWwpe1xyXG5cdFx0XHRcdHN3aXRjaCAodGhpcy5zb3J0W2VsXSkge1xyXG5cdFx0XHRcdFx0Y2FzZSBcIlwiOlxyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoaXMuc29ydCxlbCwwKVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0XHRcdFZ1ZS5zZXQodGhpcy5zb3J0LGVsLDEpXHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0XHRcdFZ1ZS5zZXQodGhpcy5zb3J0LGVsLFwiXCIpXHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLnNvcnQpIHtcclxuXHRcdFx0XHRcdGlmKGtleSE9ZWwpe1xyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoaXMuc29ydCxrZXksXCJcIilcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5saXN0X0dldCgxKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzaGlmdFRvT3RoZXIoKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmNoZWNrcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGxheWVyLm1zZyhcIuivt+WFiOmAieaLqeS4gOmhuei/m+ihjOaTjeS9nFwiKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zdCBkaWFsb2cgPSBsYXllci5vcGVuKHtcclxuXHRcdFx0XHRcdFx0dHlwZTogMSxcclxuXHRcdFx0XHRcdFx0dGl0bGU6ICfovaznp7vlrqLmiLcnLFxyXG5cdFx0XHRcdFx0XHRjbG9zZUJ0bjogMSxcclxuXHRcdFx0XHRcdFx0Y29udGVudDogJCgnI3NhbGVyQm94JyksXHJcblx0XHRcdFx0XHRcdGFyZWE6IFsnMzUwcHgnLCAnMjAwcHgnXSxcclxuXHRcdFx0XHRcdFx0YnRuOiBcIui9rOenu1wiLFxyXG5cdFx0XHRcdFx0XHRidG5BbGlnbjogJ2MnLFxyXG5cdFx0XHRcdFx0XHR5ZXMoKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCEkKCcjc2FsZXJJZCcpLnZhbCgpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRsYXllci5jbG9zZShkaWFsb2cpXHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHlvY3RvLmpzb24oY29uZmlnLmFwaV9tb3ZlS2gsIHtcclxuXHRcdFx0XHRcdFx0XHRcdGlkOiB0aGF0LmNoZWNrcyxcclxuXHRcdFx0XHRcdFx0XHRcdHNhbGVJZDogJCgnI3NhbGVySWQnKS52YWwoKVxyXG5cdFx0XHRcdFx0XHRcdH0sIChyZXMpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdGxheWVyLmNsb3NlKGRpYWxvZylcclxuXHRcdFx0XHRcdFx0XHRcdGxheWVyLm1zZyhcIui9rOenu+aIkOWKn1wiKVxyXG5cdFx0XHRcdFx0XHRcdFx0dGhhdC5saXN0X0dldCgxKVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHNoaWZ0VG9TZWEoKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0aWYgKCF0aGlzLmNoZWNrcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGxheWVyLm1zZyhcIuivt+WFiOmAieaLqeS4gOmhuei/m+ihjOaTjeS9nFwiKVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zdCBkaWFsb2cgPSBsYXllci5jb25maXJtKCfor7fpgInmi6novaznp7vliLDnmoTlhazmtbcnLCB7XHJcblx0XHRcdFx0XHRcdGJ0bjogWyflrqLmiLflhazmtbcnLCAn5peg5oSP5ZCR5YWs5rW3J10sIC8v5oyJ6ZKuXHJcblx0XHRcdFx0XHRcdGJ0bkFsaWduOiAnYydcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0eW9jdG8uanNvbihjb25maWcuYXBpX21vdmVHaCwge1xyXG5cdFx0XHRcdFx0XHRcdGlkOiB0aGF0LmNoZWNrcyxcclxuXHRcdFx0XHRcdFx0XHRpc0toZ2g6IDBcclxuXHRcdFx0XHRcdFx0fSwgKHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxheWVyLm1zZyhcIui9rOenu+aIkOWKn1wiKVxyXG5cdFx0XHRcdFx0XHRcdGxheWVyLmNsb3NlKGRpYWxvZylcclxuXHRcdFx0XHRcdFx0XHR0aGF0Lmxpc3RfR2V0KDEpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHlvY3RvLmpzb24oY29uZmlnLmFwaV9tb3ZlR2gsIHtcclxuXHRcdFx0XHRcdFx0XHRpZDogdGhhdC5jaGVja3MsXHJcblx0XHRcdFx0XHRcdFx0aXNLaGdoOiAxXHJcblx0XHRcdFx0XHRcdH0sIChyZXMpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsYXllci5tc2coXCLovaznp7vmiJDlip9cIilcclxuXHRcdFx0XHRcdFx0XHRsYXllci5jbG9zZShkaWFsb2cpXHJcblx0XHRcdFx0XHRcdFx0dGhhdC5saXN0X0dldCgxKVxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+eUteivnVxyXG5cdFx0XHRjYWxsKGVsLCBwaG9uZSkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdHRoaXMuaG92ZXJFbC5saW5rbWFuTW9iaWxlUGhvbmUuc2hvdyA9IDBcclxuXHRcdFx0XHR0aGlzLmhvdmVyRWwubGlua21hbkxhbmRsaW5lLnNob3cgPSAwXHJcblx0XHRcdFx0dGhhdC5sb2FkaW5nKCk7XHJcblx0XHRcdFx0dGhpcy5jYWxsSWQ9XCJcIjtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jYWxsSWQ9XCJcIjtcclxuXHRcdFx0XHQkLnBvc3QoY29uZmlnLmFwaV9jYWxsLCB7XHJcblx0XHRcdFx0XHRtb2JpbGVQaG9uZTogcGhvbmVcclxuXHRcdFx0XHR9KS5kb25lKChyZXMpID0+IHtcclxuXHRcdFx0XHRcdHRoYXQubG9hZGluZyhcImNsb3NlXCIpO1xyXG5cdFx0XHRcdFx0Ly/lhpnot5/ov5vlvLnlh7rmoYZcclxuXHRcdFx0XHRcdHRoYXQuc2FsZUZvbGxvd01vZGUgPSAwXHJcblx0XHRcdFx0XHRWdWUubmV4dFRpY2soKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLiRyZWZzLmZvbGxvdy5pbml0KGVsKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC8v5bu656uLd3NcclxuXHRcdFx0XHRcdHZhciBocmVmID0gbG9jYXRpb24uaG9zdDtcclxuXHRcdFx0XHRcdHZhciB3c1NlcnZlciA9IGB3czovLyR7aHJlZn0vd2ViU29ja2V0U2VydmVyYDtcclxuXHRcdFx0XHRcdHZhciB3ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHdzU2VydmVyKTtcclxuXHRcdFx0XHRcdHdlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoZXZ0KSB7IG9uT3BlbihldnQpIH07XHJcblx0XHRcdFx0XHR3ZWJzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChldnQpIHsgb25DbG9zZShldnQpIH07XHJcblx0XHRcdFx0XHR3ZWJzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2dCkgeyBvbk1lc3NhZ2UoZXZ0KSB9O1xyXG5cdFx0XHRcdFx0d2Vic29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZ0KSB7IG9uRXJyb3IoZXZ0KSB9O1xyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25PcGVuKGV2dCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyLlwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIG9uQ2xvc2UoZXZ0KSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiRGlzY29ubmVjdGVkXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25NZXNzYWdlKGV2dCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnUmV0cmlldmVkIGRhdGEgZnJvbSBzZXJ2ZXI6ICcgKyBldnQuZGF0YSk7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGV2dC5kYXRhLmluZGV4T2YoJ3NhbGVyOicpKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXZ0LmRhdGEuc3BsaXQoXCJzYWxlcjpcIilbMV0pO1xyXG5cdFx0XHRcdFx0XHRpZihldnQuZGF0YS5pbmRleE9mKCdzYWxlcjonKT09MCl7XHJcblx0XHRcdFx0XHRcdFx0dGhhdC5jYWxsSWQgPSBldnQuZGF0YS5zcGxpdChcInNhbGVyOlwiKVsxXTtcclxuXHRcdFx0XHRcdFx0XHQgd2luZG93LmNhbGxJZCA9ZXZ0LmRhdGEuc3BsaXQoXCJzYWxlcjpcIilbMV07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0d2Vic29ja2V0LmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbkVycm9yKGV2dCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnRXJyb3Igb2NjdXJlZDogJyArIGV2dC5kYXRhKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHdpbmRvdy5vbnVubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0d2Vic29ja2V0LmNsb3NlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/miZPlvIDlrqLmiLfor6bmg4VcclxuXHRcdFx0Y3VzdG9tZXJfZGV0YWlsKGVsKSB7XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gbGF5ZXIub3Blbih7XHJcblx0XHRcdFx0XHR0eXBlOiAyLFxyXG5cdFx0XHRcdFx0dGl0bGU6ICcgJyxcclxuXHRcdFx0XHRcdGNvbnRlbnQ6ICdjdXN0b21lcl9kZXRhaWwuaHRtbD9pZD0nICsgZWwuaWQsXHJcblx0XHRcdFx0XHRhcmVhOiBbJzEwMCUnLCAnMTAwJSddXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0X3NhbGVSZWNvcmQoZWwpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHR0aGF0LnNhbGVGb2xsb3dNb2RlID0gMVxyXG5cdFx0XHRcdFZ1ZS5uZXh0VGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGF0LiRyZWZzLmZvbGxvdy5pbml0KHtcclxuXHRcdFx0XHRcdFx0aWQ6IGVsLmlkLFxyXG5cdFx0XHRcdFx0XHRuYW1lOiBlbC5uYW1lLFxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/lkIzmraVcclxuXHRcdFx0c3luYyhpZCkge1xyXG5cdFx0XHRcdGNvbnN0IGRpYWxvZyA9IGxheWVyLm9wZW4oe1xyXG5cdFx0XHRcdFx0dHlwZTogMixcclxuXHRcdFx0XHRcdHRpdGxlOiAn5ZCM5q2lJyxcclxuXHRcdFx0XHRcdGNsb3NlQnRuOiAxLFxyXG5cdFx0XHRcdFx0Y29udGVudDogJy9zYWxlQ3VzdG9tZXIvZ29aeS5kbz9pZD0nICsgaWQsXHJcblx0XHRcdFx0XHRhcmVhOiBbJzcwMHB4JywgJzYwMHB4J10sXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdC8v6ZSA5ZSuc2VsZWN0MlxyXG5cdFx0XHRzZWxlY3RfaW5pdChlbCwgcGxhY2Vob2xkZXIsIGNsZWFyYnRuKSB7XHJcblx0XHRcdFx0cmV0dXJuICQoZWwpLnNlbGVjdDIoe1xyXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyIHx8IFwi6K+36YCJ5oupXCIsXHJcblx0XHRcdFx0XHRsYW5ndWFnZTogJ3poLUNOJyxcclxuXHRcdFx0XHRcdGFsbG93Q2xlYXI6IGNsZWFyYnRuIHx8IGZhbHNlLFxyXG5cdFx0XHRcdFx0YWpheDoge1xyXG5cdFx0XHRcdFx0XHR1cmw6IFwiL3VzZXIvZ2V0VXNlckluZm9cIixcclxuXHRcdFx0XHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJwb3N0XCIsXHJcblx0XHRcdFx0XHRcdGRlbGF5OiAyNTAsXHJcblx0XHRcdFx0XHRcdGRhdGE6IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0cGFnZTogcGFyYW1zLnBhZ2UgfHwgMSxcclxuXHRcdFx0XHRcdFx0XHRcdFJPTEVfSUQ6IFwiYjcyOWU5MzM0YWQ2NGMxNWE0ZTQ3ZDg4YjhjMjYzOGYsMzBiMTQ4NzIyMTQ2NGQzNjljYTRjMjQ2MmNjY2E5MjBcIixcclxuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cTogcGFyYW1zLnRlcm0gfHwgXCJcIiwgLy8gc2VhcmNoIHRlcm1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhcmFtcykge1xyXG5cdFx0XHRcdFx0XHRcdHBhcmFtcy5wYWdlID0gcGFyYW1zLnBhZ2UgfHwgMTtcclxuXHRcdFx0XHRcdFx0XHQkLmVhY2goZGF0YSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5pZCA9IHRoaXMuVVNFUl9JRDtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMudGV4dCA9IHRoaXMuTkFNRTtcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzOiBkYXRhLFxyXG5cdFx0XHRcdFx0XHRcdFx0cGFnaW5hdGlvbjoge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRtb3JlOiBkYXRhLmxlbmd0aCA9PSAxMFxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0bWluaW11bUlucHV0TGVuZ3RoOiAwXHJcblx0XHRcdFx0fSlcclxuXHJcblxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHJcbn0pXHJcbi8v5a2Q6aG16Z2i5aSE55CG5pa55rOVXHJcbndpbmRvdy5wYXJlbnRGbmMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XHJcblx0bGF5ZXIuY2xvc2VBbGwoKTtcclxuXHQvL+abtOaWsOiusOW9lVxyXG5cdHdpbmRvdy5hcHAubGlzdF9HZXQoKVxyXG59XHJcblxyXG5cclxuIl19
