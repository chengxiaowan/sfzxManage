"use strict";var config={role:localStorage.userRole,api_showSaleCustomer:"/qzTask/showSaleCustomer",api_saveTasks:"/qzTask/saveTasks.do",api_updateTasks:"/qzTask/updateTasks.do",api_delteTask:"/qzTask/delteTask.do"};require(["module_dialog_sea_config"],function(a){window.app=new Vue({el:"#app",data:{c:{},role:config.role,postData:{},posting:!1},created:function(){document.getElementById("app").classList.remove("hide")},mounted:function(){this.list_Get(),$("#salerId").select2({placeholder:"请选择",language:"zh-CN",ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(a){return{page:a.page||1,ROLE_ID:"b729e9334ad64c15a4e47d88b8c2638f,30b1487221464d369ca4c2462ccca920",data:{q:a.term||""}}},processResults:function(a,e){return e.page=e.page||1,$.each(a,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:a,pagination:{more:10==a.length}}},cache:!0},minimumInputLength:0})},methods:{search:function(){this.list_Get(1)},loading:function(a){"close"==a?layer.close(this.loadingSwitch):this.loadingSwitch=layer.load(3)},add:function(){this.$refs.sea_config.init()},edit:function(a){this.$refs.sea_config.init(a)},del:function(a,e){var t=this;layer.confirm("确认删除此项?",function(){$.post(config.api_delteTask,{id:e},function(){layer.msg("删除成功"),t.list_Get()})})},list_Get:function(e){var t=this;e&&(this.c.pageNum=e),t.loading(),t.postData.pageSize=this.c.pageSize,t.postData.pageNo=this.c.pageNum,require(["pagination"],function(a){$.ajax({url:config.api_showSaleCustomer,async:!1,data:t.postData}).done(function(a){t.c=a.result,t.pagi?($(".pagi").pagination("updatePages",t.c.pages),1==e&&$(".pagi").pagination("goToPage",t.c.pageNum)):(t.pagi=1,$(".pagi").pagination({pages:t.c.pages,showCtrl:!0,displayPage:6,currentPage:t.c.pageNum,onSelect:function(a){t.c.pageNum=a,t.list_Get()}})),t.loading("close")})})}}})}),window.parentFnc=function(a){layer.closeAll(),window.app.list_Get()};