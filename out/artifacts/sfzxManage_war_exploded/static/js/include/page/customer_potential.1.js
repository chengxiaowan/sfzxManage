"use strict";var config={role:localStorage.userRole,api_showSaleCustomer:"/saleCustomer/showSaleCustomer",api_qdKhgh:"/saleCustomer/qdKhgh",api_import:"/saleCustomer/importExcel.do",api_moveGh:"/saleCustomer/moveGh.do",api_moveKh:"/saleCustomer/moveKh.do",api_call:"/saleCustomer/call.do",api_hasName:"/saleCustomer/hasName",api_updateSaleCustomer:"/saleCustomer/updateSaleCustomer"};require(["module_dialog_saleoffollow","module_dialog_importExcel"],function(e,t){window.app=new Vue({el:"#app",data:{c:{},role:config.role,isKhGh:2,postData:{},posting:!1,checkAll:0,checks:[],callId:"",s:{keywords:{},saleName:{},provinceName:"",cityName:""},sort:{gjTime:"",xcgetTime:"",xchrghTime:""},select2:{},hoverEl:{name:{show:0,el:{}},linkmanLandline:{show:0,el:{}},linkmanMobilePhone:{show:0,el:{}},email:{},postion:{show:0,el:{}},linkmanName:{show:0,el:{}},remark:{show:0,el:{}}},editEl:{show:"",el:{},oldValue:""},saleFollowMode:0},computed:{citys_sub:function(){var e=this.s.provinceName,t=[],a=void 0;return console.log(e),$.each(this.citys["省份"],function(t,o){e==o.regionName&&(a=o.id)}),$.each(this.citys["市区"],function(e,o){a==o.parentId&&t.push(o)}),t}},created:function(){document.getElementById("app").classList.remove("hide"),localStorage.citys&&(this.citys=JSON.parse(localStorage.citys))},mounted:function(){function e(){t.select2.city=$("select[name=cityName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.cityName=this.value})}var t=this;this.list_Get(),this.$watch("checks",function(e,a){t.checks.length==t.c.list.length?t.checkAll=1:t.checkAll=0}),$(".select2").select2({language:"zh-CN"}),this.select2.province=$("select[name=provinceName]").select2({language:"zh-CN",placeholder:"请选择",allowClear:1}).on("change",function(){t.s.provinceName=this.value,t.select2.city.select2("destroy"),e()}),e(),"经理"==t.role&&(t.s.saleName=t.select_init("[name=saleName]","请选择负责人",1));t.select_init("#salerId");require(["webuploader"],function(e){var a=e.create({server:config.api_import,formData:{isKhgh:0},runtimeOrder:"html5",pick:{id:"#excel_fileUp",innerHTML:"导入客户"},resize:!1,fileNumLimit:10});a.on("uploadSuccess",function(e,t){}),a.on("uploadStart",function(){t.loading()}),a.on("uploadError",function(e){layer.msg("上传出错")}),a.on("error",function(e){"Q_TYPE_DENIED"==e&&layer.msg("上传文件格式错误，请检查")}),a.on("uploadFinished",function(e){a.reset(),layer.msg("上传成功"),t.loading("close"),t.list_Get()}),a.on("fileQueued",function(){a.upload()})})},directives:{focus:{inserted:function(e){e.focus(),e.dataset.tips&&layer.tips('<span style="color:#337ab7">'+e.dataset.tips+"</span>",e,{tips:[2,"#fff"]})}}},methods:{clear:function(){"经理"==this.role&&this.s.saleName.val(null).trigger("change"),this.select2.province.val(null).trigger("change"),this.select2.city.val(null).trigger("change")},btn_checkAll:function(){var e=this;e.checks=[],e.checkAll&&$.each(e.c.list,function(){e.checks.push(this.id)})},edit_hover:function(e,t){Vue.set(this.hoverEl,e,{show:1,el:t})},edit_el:function(e,t){this.editEl.show=e,this.editEl.el=t,this.editEl.oldValue=t.name},edit_submit:function(e,t){console.log(2),this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}}),this.saveData(e,t)},edit_keyup:function(e,t){this.editEl.show="",this.editEl.el={},Vue.set(this.hoverEl,e,{show:0,el:{}})},overTips:function(e){layer.tips('<span style="color:#337ab7">'+e.remark+"</span>","#remark_"+e.id,{tips:[2,"#fff"]})},saveData:function(e,t){function a(){var a={id:t.id};a[e]=t[e],$.post(config.api_updateSaleCustomer,a,function(e){})}var o=this;if("name"==e&&""==t.name)return void(t.name=this.editEl.oldValue);"name"==e&&t.name==this.editEl.oldValue||("name"==e?$.post(config.api_hasName,{name:t.name}).done(function(e){if("error"==e.result)return layer.msg("客户名称已存在,请检查重试"),void(t.name=o.editEl.oldValue);a()}):a())},loading:function(e){"close"==e?layer.close(this.loadingSwitch):this.loadingSwitch=layer.load(3)},search:function(){this.postData.keywords=$.trim($("[name=keywords]").val()),this.postData.saleName=$.trim($("[name=saleName]").val()),this.postData.cityName=$.trim($("[name=cityName]").val()),this.postData.provinceName=$.trim($("[name=provinceName]").val()),this.postData.status=$("[name=status]").val(),this.list_Get(1)},list_Get:function(e){var t=this;e&&(this.c.pageNum=e),t.loading(),t.postData.isKhGh=this.isKhGh,t.postData.pageSize=this.c.pageSize,t.postData.pageNo=this.c.pageNum,t.postData.gjTime=this.sort.gjTime,t.postData.xcgetTime=this.sort.xcgetTime,t.postData.xchrghTime=this.sort.xchrghTime,$.ajax({url:config.api_showSaleCustomer,async:!1,data:t.postData}).done(function(a){t.c=a.result,t.pagi?($(".pagi").pagination("updatePages",t.c.pages),1==e&&$(".pagi").pagination("goToPage",t.c.pageNum)):require(["pagination"],function(e){t.pagi=$(".pagi").pagination({pages:t.c.pages,showCtrl:!0,displayPage:6,currentPage:t.c.pageNum,onSelect:function(e){t.c.pageNum=e,t.list_Get()}})}),t.loading("close")})},data_sort:function(e){switch(this.sort[e]){case"":Vue.set(this.sort,e,0);break;case 0:Vue.set(this.sort,e,1);break;case 1:Vue.set(this.sort,e,"")}for(var t in this.sort)t!=e&&Vue.set(this.sort,t,"");this.list_Get(1)},shiftToOther:function(){var e=this;if(this.checks.length)var t=layer.open({type:1,title:"转移客户",closeBtn:1,content:$("#salerBox"),area:["350px","200px"],btn:"转移",btnAlign:"c",yes:function(){if(!$("#salerId").val())return void layer.close(t);yocto.json(config.api_moveKh,{id:e.checks,saleId:$("#salerId").val()},function(a){layer.close(t),layer.msg("转移成功"),e.list_Get(1)})}});else layer.msg("请先选择一项进行操作")},shiftToSea:function(){var e=this;if(this.checks.length)var t=layer.confirm("请选择转移到的公海",{btn:["客户公海","无意向公海"],btnAlign:"c"},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:0},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})},function(){yocto.json(config.api_moveGh,{id:e.checks,isKhgh:1},function(a){layer.msg("转移成功"),layer.close(t),e.list_Get(1)})});else layer.msg("请先选择一项进行操作")},call:function(e,t){var a=this,o=this;this.hoverEl.linkmanMobilePhone.show=0,this.hoverEl.linkmanLandline.show=0,o.loading(),this.callId="",window.callId="",$.post(config.api_call,{mobilePhone:t}).done(function(t){function i(e){console.log("Connected to WebSocket server.")}function s(e){console.log("Disconnected")}function n(e){console.log("Retrieved data from server: "+e.data),console.log(e.data.indexOf("saler:")),console.log(e.data.split("saler:")[1]),0==e.data.indexOf("saler:")&&(o.callId=e.data.split("saler:")[1],window.callId=e.data.split("saler:")[1]),h.close()}function l(e){console.log("Error occured: "+e.data)}o.loading("close"),o.saleFollowMode=0,Vue.nextTick(function(){a.$refs.follow.init(e)});var c=location.host,r="ws://"+c+"/webSocketServer",h=new WebSocket(r);h.onopen=function(e){i(e)},h.onclose=function(e){s(e)},h.onmessage=function(e){n(e)},h.onerror=function(e){l(e)},window.onunload=function(){h.close()}})},customer_detail:function(e){layer.open({type:2,title:" ",content:"customer_detail.html?id="+e.id,area:["100%","100%"]})},edit_saleRecord:function(e){var t=this;t.saleFollowMode=1,Vue.nextTick(function(){t.$refs.follow.init({id:e.id,name:e.name})})},sync:function(e){layer.open({type:2,title:"同步",closeBtn:1,content:"/saleCustomer/goZy.do?id="+e,area:["700px","600px"]})},select_init:function(e,t,a){return $(e).select2({placeholder:t||"请选择",language:"zh-CN",allowClear:a||!1,ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(e){return{page:e.page||1,ROLE_ID:"b729e9334ad64c15a4e47d88b8c2638f,30b1487221464d369ca4c2462ccca920",data:{q:e.term||""}}},processResults:function(e,t){return t.page=t.page||1,$.each(e,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:e,pagination:{more:10==e.length}}},cache:!0},minimumInputLength:0})}}})}),window.parentFnc=function(e){layer.closeAll(),window.app.list_Get()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyX3BvdGVudGlhbC4xLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJvbGUiLCJsb2NhbFN0b3JhZ2UiLCJ1c2VyUm9sZSIsImFwaV9zaG93U2FsZUN1c3RvbWVyIiwiYXBpX3FkS2hnaCIsImFwaV9pbXBvcnQiLCJhcGlfbW92ZUdoIiwiYXBpX21vdmVLaCIsImFwaV9jYWxsIiwiYXBpX3VwZGF0ZVNhbGVDdXN0b21lciIsImRpYWxvZ19mb2xsb3ciLCJpbXBvcnRFeGNlbCIsInJlcXVpcmUiLCJhcHAiLCJWdWUiLCJ3aW5kb3ciLCJlbCIsImRhdGEiLCJjIiwiaXNLaEdoIiwicG9zdERhdGEiLCJwb3N0aW5nIiwiY2hlY2tBbGwiLCJjaGVja3MiLCJzIiwia2V5d29yZHMiLCJzYWxlTmFtZSIsInByb3ZpbmNlTmFtZSIsInNvcnQiLCJnalRpbWUiLCJ4Y2dldFRpbWUiLCJzZWxlY3QyIiwibmFtZSIsInNob3ciLCJwb3N0aW9uIiwibGlua21hbk5hbWUiLCJyZW1hcmsiLCJlZGl0RWwiLCJvbGRWYWx1ZSIsInNhbGVGb2xsb3dNb2RlIiwiY29tcHV0ZWQiLCJjaXR5c19zdWIiLCJwcm92aW5jZSIsImNvbnNvbGUiLCJlYWNoIiwicHJvdmluY2VJZCIsImNyZWF0ZWQiLCJsb2ciLCIkIiwidGhpcyIsImNpdHlzIiwiaSIsImNpdHkiLCJpZCIsInBhcmVudElkIiwicHVzaCIsImRvY3VtZW50IiwibW91bnRlZCIsIkpTT04iLCJwYXJzZSIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsImxhbmd1YWdlIiwidGhhdCIsImNpdHlOYW1lIiwib24iLCJ2YWx1ZSIsIiR3YXRjaCIsIm8iLCJuIiwibGVuZ3RoIiwibGlzdCIsImNpdHlfaW5pdCIsInNhbGVySWQiLCJzZWxlY3RfaW5pdCIsInNlcnZlciIsImZvcm1EYXRhIiwiV2ViVXBsb2FkZXIiLCJjcmVhdGUiLCJydW50aW1lT3JkZXIiLCJpc0toZ2giLCJwaWNrIiwicmVzaXplIiwiZmlsZU51bUxpbWl0IiwibG9hZGluZyIsImZpbGUiLCJyZXMiLCJ1cGxvYWRlciIsImxheWVyIiwibGlzdF9HZXQiLCJyZXNldCIsIm1zZyIsInVwbG9hZCIsImZvY3VzIiwidGlwcyIsImRhdGFzZXQiLCJtZXRob2RzIiwiY2xlYXIiLCJ2YWwiLCJ0cmlnZ2VyIiwia2V5IiwiZWRpdF9lbCIsImVkaXRfc3VibWl0Iiwic2V0IiwiaG92ZXJFbCIsInNhdmVEYXRhIiwib3ZlclRpcHMiLCJzYXZlIiwiX3RoaXMiLCJwb3N0IiwiYXBpX2hhc05hbWUiLCJkb25lIiwicmVzdWx0IiwiY2xvc2UiLCJsb2FkaW5nU3dpdGNoIiwibG9hZCIsInNlYXJjaCIsInRyaW0iLCJzdGF0dXMiLCJwYWdlIiwicGFnZU51bSIsInBhZ2VTaXplIiwicGFnZU5vIiwidXJsIiwiYXN5bmMiLCJwYWdpIiwicGFnZXMiLCJwYWdpbmF0aW9uIiwic2hvd0N0cmwiLCJkaXNwbGF5UGFnZSIsImN1cnJlbnRQYWdlIiwib25TZWxlY3QiLCJudW0iLCJkYXRhX3NvcnQiLCJzaGlmdFRvT3RoZXIiLCJvcGVuIiwidHlwZSIsInRpdGxlIiwiZGlhbG9nIiwiY2xvc2VCdG4iLCJjb250ZW50IiwiYXJlYSIsImJ0biIsImJ0bkFsaWduIiwieWVzIiwieW9jdG8iLCJqc29uIiwic2FsZUlkIiwic2hpZnRUb1NlYSIsImNvbmZpcm0iLCJjYWxsIiwicGhvbmUiLCJfdGhpczIiLCJsaW5rbWFuTW9iaWxlUGhvbmUiLCJsaW5rbWFuTGFuZGxpbmUiLCJjYWxsSWQiLCJ3ZWJzb2NrZXQiLCJldnQiLCJvbk9wZW4iLCJvbkNsb3NlIiwib25NZXNzYWdlIiwiaW5kZXhPZiIsIm9uZXJyb3IiLCJzcGxpdCIsIm9uRXJyb3IiLCJtb2JpbGVQaG9uZSIsImZvbGxvdyIsImluaXQiLCJuZXh0VGljayIsImhvc3QiLCJ3c1NlcnZlciIsIldlYlNvY2tldCIsIm9ub3BlbiIsImhyZWYiLCJjdXN0b21lcl9kZXRhaWwiLCJlZGl0X3NhbGVSZWNvcmQiLCJpbmRleCIsImNsZWFyYnRuIiwic3luYyIsImRlbGF5IiwicGFyYW1zIiwiZGF0YVR5cGUiLCJVU0VSX0lEIiwidGV4dCIsIk5BTUUiLCJST0xFX0lEIiwicSIsInRlcm0iLCJtaW5pbXVtSW5wdXRMZW5ndGgiLCJjYWNoZSIsImNsb3NlQWxsIl0sIm1hcHBpbmdzIjoiWUFBQSxJQUFNQSxTQUNMQyxLQUFNQyxhQUFhQyxTQURwQkMscUJBQWUsaUNBQ2RILFdBQU1DLHVCQUNORSxXQUFBQSwrQkFDQUMsV0FBWSwwQkFDWkMsV0FBWSwwQkFDWkMsU0FBQUEsd0JBQ0FDLFlBQVksd0JBQ1pDLHVCQUFVLG1DQUVWQyxVQUFBQSw2QkFBd0IsNkJBVHpCLFNBQUFDLEVBQUFDLEdBV0FDLE9BQVFDLElBQUMsR0FBQUMsTUFDUkMsR0FBQUEsT0FDQ0MsTUFDQUMsS0FDQ0MsS0FES25CLE9BQUFDLEtBRUxBLE9BQU1ELEVBQ05vQixZQUNBQyxTQUFBQSxFQUNBQyxTQUFTLEVBQ1RDLFVBQ0FDLE9BQVEsR0FFUkMsR0FDQUEsWUFDQ0MsWUFDQUMsYUFGRSxHQUdGQyxTQUFBQSxJQUhFQyxNQU1IQSxPQUFLLEdBQ0hDLFVBREcsR0FFSEMsV0FBVSxJQUZQQyxXQVVKQyxTQUNDQyxNQUNBakIsS0FBSSxFQUhHQSxPQU1QaUIsaUJBQ0FqQixLQUFJLEVBUEdBLE9BVVBpQixvQkFDQWpCLEtBQUksRUFYR0EsT0FnQlJrQixTQUFTQSxTQUlUQyxLQUFBQSxFQUNDRixPQURZRSxhQUliQyxLQUFBQSxFQUNDSCxPQURPRyxRQWpESkgsS0FBQSxFQXNETEksUUFHQ0MsUUF6RElMLEtBQUEsR0EyRExNLE1BN0RtQkQsU0FBQSxJQWdFbkJDLGVBQUEsR0FFQ0MsVUFFQUMsVUFGTUMsV0FHTkMsR0FBQUEsR0FBWUQsS0FBWmxCLEVBQUFHLGFBQ0VpQixLQUNEQyxNQUFBQSxFQVNIQyxPQVJHSCxTQUZESSxJQUFBTCxHQUdBTSxFQUFFSixLQUFLSyxLQUFLQyxNQUFNLE1BQU8sU0FBQUMsRUFBQW5DLEdBQ3BCNkIsR0FBQUEsRUFBYzdCLGFB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QSxHQUNIeEMsS0FEc0J4SCxFQUFBZ0IsVUFReEIrSSxLQTdSSSxTQTZSSkEsR0FDQ3ZGLE1BQUErQyxNQUNBeEUsS0FBS3hCLEVBQ0x6QixNQUFJMEosS0FDSHpHLFNBQUEsRUFDQ1YsUUFBT0EsNEJBRGVBLEVBRXRCckIsTUFBTWhCLFFBQUdnQixZQWdCWjBDLFlBblRJLFNBbVRRMUQsRUFBSTRDLEVBQWFxSCxHQVg3QixNQUFBakksR0FBQWhDLEdBQUFlLFNBQ0FtSixZQTVTUXRILEdBNFNDLE1BQ1JFLFNBQU00RSxRQUNMRixXQUR5QnlDLElBQUEsRUFFekJ4QyxNQUNBRSxJQUFBQSxvQkFDQUMsU0FBUyxPQUNUQyxLQUFPLE9BTFJzQyxNQUFBLElBN1NPbEssS0FBQSxTQUFBbUssR0FpVUosT0FaSjdELEtBQUE2RCxFQUFBN0QsTUFBQSxFQUNBN0MsUUF0VFEsb0VBdVRQekQsTUFDQzJDLEVBQUFBLEVBQWFBLE1BQUFBLE1BSVorRCxlQUFLLFNBREExRyxFQUFBbUssR0FPSDdELE1BTEY4RCxHQUFBQSxLQUFVRCxFQUZMN0QsTUFBQSxFQUdMaUIsRUFBQUEsS0FBTXZILEVBSEQsV0FJTGtLLEtBQU85SCxHQUpGSixLQUFBcUksUUFLTHJLLEtBQU1zSyxLQUFBdEksS0FBQXVJLFFBR0pDLFFBQVN4SyxFQUNUQSxZQUNDeUssS0FESyxJQUNGTixFQUFPTyxVQUtaUCxPQUFBQSxHQUVDUSxtQkFBZU4sVUFVakJPLE9BQUFBLFVBQU8sU0FBQVQsR0EzQkY1RixNQUpjc0csV0FBQS9LLE9BQXJCRixJQUFBNEUiLCJmaWxlIjoiY3VzdG9tZXJfcG90ZW50aWFsLjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWcgPSB7XHJcblx0cm9sZTogbG9jYWxTdG9yYWdlLnVzZXJSb2xlLFxyXG5cdGFwaV9zaG93U2FsZUN1c3RvbWVyOiAnL3NhbGVDdXN0b21lci9zaG93U2FsZUN1c3RvbWVyJywgLy/ojrflj5blrqLmiLfliJfooahcclxuXHRhcGlfcWRLaGdoOiAnL3NhbGVDdXN0b21lci9xZEtoZ2gnLCAvL+aKouWkuuWuouaIt1xyXG5cdGFwaV9pbXBvcnQ6IFwiL3NhbGVDdXN0b21lci9pbXBvcnRFeGNlbC5kb1wiLCAvL+WvvOWFpeWuouaIt1xyXG5cdGFwaV9tb3ZlR2g6IFwiL3NhbGVDdXN0b21lci9tb3ZlR2guZG9cIiwgLy/ovaznp7voh7PlhazmtbdcclxuXHRhcGlfbW92ZUtoOiBcIi9zYWxlQ3VzdG9tZXIvbW92ZUtoLmRvXCIsIC8v6L2s56e757uZ5LuW5Lq6XHJcblx0YXBpX2NhbGw6IFwiL3NhbGVDdXN0b21lci9jYWxsLmRvXCIsXHJcblx0YXBpX2hhc05hbWU6Jy9zYWxlQ3VzdG9tZXIvaGFzTmFtZScsIC8v5p+l6YeNXHJcblx0YXBpX3VwZGF0ZVNhbGVDdXN0b21lcjogJy9zYWxlQ3VzdG9tZXIvdXBkYXRlU2FsZUN1c3RvbWVyJywgLy/kv53lrZjlrqLmiLfkv6Hmga9cclxufVxyXG5yZXF1aXJlKFsnbW9kdWxlX2RpYWxvZ19zYWxlb2Zmb2xsb3cnLCAnbW9kdWxlX2RpYWxvZ19pbXBvcnRFeGNlbCddLCAoZGlhbG9nX2ZvbGxvdywgaW1wb3J0RXhjZWwpID0+IHtcclxuXHR3aW5kb3cuYXBwID0gbmV3IFZ1ZSh7XHJcblx0XHRlbDogJyNhcHAnLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHRjOiB7fSxcclxuXHRcdFx0cm9sZTogY29uZmlnLnJvbGUsXHJcblx0XHRcdGlzS2hHaDogMixcclxuXHRcdFx0cG9zdERhdGE6IHt9LFxyXG5cdFx0XHRwb3N0aW5nOiBmYWxzZSwgLy/mmK/lkKbmraPlnKjkuIrkvKDmlbDmja5cclxuXHRcdFx0Y2hlY2tBbGw6IDAsXHJcblx0XHRcdGNoZWNrczogW10sXHJcblx0XHRcdGNhbGxJZDogJycsXHJcblx0XHRcdC8v5pCc57Si6aG5XHJcblx0XHRcdHM6IHtcclxuXHRcdFx0XHRrZXl3b3Jkczoge30sXHJcblx0XHRcdFx0c2FsZU5hbWU6IHt9LFxyXG5cdFx0XHRcdHByb3ZpbmNlTmFtZTogXCJcIixcclxuXHRcdFx0XHRjaXR5TmFtZTogXCJcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0c29ydDp7XHJcblx0XHRcdFx0XHRnalRpbWU6XCJcIixcclxuXHRcdFx0XHRcdHhjZ2V0VGltZTpcIlwiLFxyXG5cdFx0XHRcdFx0eGNocmdoVGltZTpcIlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHNlbGVjdDI6IHtcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdC8v57yW6L6R5qih5byPXHJcblx0XHRcdGhvdmVyRWw6IHtcclxuXHRcdFx0XHRuYW1lOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRsaW5rbWFuTGFuZGxpbmU6IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGxpbmttYW5Nb2JpbGVQaG9uZToge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZW1haWw6e1xyXG5cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHBvc3Rpb246IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGxpbmttYW5OYW1lOiB7XHJcblx0XHRcdFx0XHRzaG93OiAwLFxyXG5cdFx0XHRcdFx0ZWw6IHt9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRyZW1hcms6IHtcclxuXHRcdFx0XHRcdHNob3c6IDAsXHJcblx0XHRcdFx0XHRlbDoge31cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRFbDoge1xyXG5cdFx0XHRcdHNob3c6ICcnLFxyXG5cdFx0XHRcdGVsOiB7fSxcclxuXHRcdFx0XHRvbGRWYWx1ZTpcIlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHNhbGVGb2xsb3dNb2RlOiAwXHJcblx0XHR9LFxyXG5cdFx0Y29tcHV0ZWQ6IHtcclxuXHRcdFx0Ly/ln47luILliJfooahcclxuXHRcdFx0Y2l0eXNfc3ViKCkge1xyXG5cdFx0XHRcdGNvbnN0IHByb3ZpbmNlID0gdGhpcy5zLnByb3ZpbmNlTmFtZTtcclxuXHRcdFx0XHRsZXQgY2l0eSA9IFtdO1xyXG5cdFx0XHRcdGxldCBwcm92aW5jZUlkO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHByb3ZpbmNlKTtcclxuXHRcdFx0XHQkLmVhY2godGhpcy5jaXR5c1sn55yB5Lu9J10sIChpLCBlbCkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKHByb3ZpbmNlID09IGVsLnJlZ2lvbk5hbWUpIHByb3ZpbmNlSWQgPSBlbC5pZFxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0JC5lYWNoKHRoaXMuY2l0eXNbJ+W4guWMuiddLCAoaSwgZWwpID0+IHtcclxuXHRcdFx0XHRcdGlmIChwcm92aW5jZUlkID09IGVsLnBhcmVudElkKSBjaXR5LnB1c2goZWwpXHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0cmV0dXJuIGNpdHk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRjcmVhdGVkKCkge1xyXG5cdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIilcclxuXHRcdFx0Ly/liJ3lp4vljJbln47luILmlbDmja5cclxuXHRcdFx0aWYgKGxvY2FsU3RvcmFnZS5jaXR5cykge1xyXG5cdFx0XHRcdHRoaXMuY2l0eXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jaXR5cylcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG1vdW50ZWQoKSB7XHJcblx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHQvL+aXtumXtOmAieaLqeWIneWni+WMllxyXG5cdFx0XHQvLyByZXF1aXJlKFsnZGF0ZVRpbWVJbml0J10sIChkYXRlVGltZUluaXQpID0+IHtcclxuXHRcdFx0Ly8gXHRkYXRlVGltZUluaXQoKVxyXG5cdFx0XHQvLyB9KVxyXG5cdFx0XHQvL+iOt+WPluWIl+ihqFxyXG5cdFx0XHR0aGlzLmxpc3RfR2V0KClcclxuXHRcdFx0Ly/nm5HlkKzlhajpgIlwXHJcblx0XHRcdHRoaXMuJHdhdGNoKCdjaGVja3MnLCAobywgbikgPT4ge1xyXG5cdFx0XHRcdGlmICh0aGF0LmNoZWNrcy5sZW5ndGggPT0gdGhhdC5jLmxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR0aGF0LmNoZWNrQWxsID0gMVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aGF0LmNoZWNrQWxsID0gMFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0Ly/kuIvmi4nmoYbliJ3lp4vljJZcclxuXHRcdFx0JChcIi5zZWxlY3QyXCIpLnNlbGVjdDIoe1xyXG5cdFx0XHRcdGxhbmd1YWdlOiBcInpoLUNOXCJcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdHRoaXMuc2VsZWN0Mi5wcm92aW5jZSA9ICQoJ3NlbGVjdFtuYW1lPXByb3ZpbmNlTmFtZV0nKS5zZWxlY3QyKHtcclxuXHRcdFx0XHRsYW5ndWFnZTogXCJ6aC1DTlwiLFxyXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJyxcclxuXHRcdFx0XHRhbGxvd0NsZWFyOjEsXHJcblx0XHRcdH0pLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dGhhdC5zLnByb3ZpbmNlTmFtZSA9IHRoaXMudmFsdWU7XHJcblx0XHRcdFx0dGhhdC5zZWxlY3QyLmNpdHkuc2VsZWN0MignZGVzdHJveScpO1xyXG5cdFx0XHRcdGNpdHlfaW5pdCgpXHJcblx0XHRcdH0pXHJcblx0XHRcdGNpdHlfaW5pdCgpXHJcblx0XHRcdGZ1bmN0aW9uIGNpdHlfaW5pdCgpIHtcclxuXHRcdFx0XHR0aGF0LnNlbGVjdDIuY2l0eSA9ICQoJ3NlbGVjdFtuYW1lPWNpdHlOYW1lXScpLnNlbGVjdDIoe1xyXG5cdFx0XHRcdFx0bGFuZ3VhZ2U6IFwiemgtQ05cIixcclxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJyxcclxuXHRcdFx0XHRcdGFsbG93Q2xlYXI6MVxyXG5cdFx0XHRcdH0pLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR0aGF0LnMuY2l0eU5hbWUgPSB0aGlzLnZhbHVlO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIHRoYXQucm9sZT09J+e7j+eQhicpe1xyXG50aGF0LnMuc2FsZU5hbWUgPSB0aGF0LnNlbGVjdF9pbml0KCdbbmFtZT1zYWxlTmFtZV0nLCAn6K+36YCJ5oup6LSf6LSj5Lq6JywgMSlcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBzYWxlcklkID0gdGhhdC5zZWxlY3RfaW5pdCgnI3NhbGVySWQnKVxyXG5cclxuXHRcdFx0Ly/liJ3lp4vljJbkuIrkvKBcclxuXHJcblx0XHRcdHJlcXVpcmUoWyd3ZWJ1cGxvYWRlciddLCAoV2ViVXBsb2FkZXIpID0+IHtcclxuXHRcdFx0XHR2YXIgdXBsb2FkZXIgPSBXZWJVcGxvYWRlci5jcmVhdGUoe1xyXG5cdFx0XHRcdFx0Ly8g5paH5Lu25o6l5pS25pyN5Yqh56uv44CCXHJcblx0XHRcdFx0XHRzZXJ2ZXI6IGNvbmZpZy5hcGlfaW1wb3J0LFxyXG5cdFx0XHRcdFx0Zm9ybURhdGE6IHtcclxuXHRcdFx0XHRcdFx0aXNLaGdoOiAwXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0cnVudGltZU9yZGVyOiAnaHRtbDUnLFxyXG5cdFx0XHRcdFx0Ly8g5YaF6YOo5qC55o2u5b2T5YmN6L+Q6KGM5piv5Yib5bu677yM5Y+v6IO95pivaW5wdXTlhYPntKDvvIzkuZ/lj6/og73mmK9mbGFzaC5cclxuXHRcdFx0XHRcdHBpY2s6IHtcclxuXHRcdFx0XHRcdFx0aWQ6ICcjZXhjZWxfZmlsZVVwJyxcclxuXHRcdFx0XHRcdFx0aW5uZXJIVE1MOiAn5a+85YWl5a6i5oi3J1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHJlc2l6ZTogZmFsc2UsXHJcblx0XHRcdFx0XHRmaWxlTnVtTGltaXQ6IDEwXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8v5LiK5Lyg5oiQ5YqfXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ3VwbG9hZFN1Y2Nlc3MnLCBmdW5jdGlvbiAoZmlsZSwgcmVzKSB7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCd1cGxvYWRTdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHRoYXQubG9hZGluZygpXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQvL+S4iuS8oOWHuumUmVxyXG5cdFx0XHRcdHVwbG9hZGVyLm9uKCd1cGxvYWRFcnJvcicsIGZ1bmN0aW9uIChmaWxlKSB7XHJcblx0XHRcdFx0XHRsYXllci5tc2coJ+S4iuS8oOWHuumUmScpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8v5Ye66ZSZXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKHJlcykge1xyXG5cdFx0XHRcdFx0aWYgKHJlcyA9PSAnUV9UWVBFX0RFTklFRCcpIHtcclxuXHRcdFx0XHRcdFx0bGF5ZXIubXNnKCfkuIrkvKDmlofku7bmoLzlvI/plJnor6/vvIzor7fmo4Dmn6UnKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8v5LiK5Lyg5a6M5oiQXHJcblx0XHRcdFx0dXBsb2FkZXIub24oJ3VwbG9hZEZpbmlzaGVkJywgZnVuY3Rpb24gKGZpbGUpIHtcclxuXHRcdFx0XHRcdHVwbG9hZGVyLnJlc2V0KCk7XHJcblx0XHRcdFx0XHRsYXllci5tc2coXCLkuIrkvKDmiJDlip9cIilcclxuXHRcdFx0XHRcdHRoYXQubG9hZGluZyhcImNsb3NlXCIpXHJcblx0XHRcdFx0XHR0aGF0Lmxpc3RfR2V0KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly/mlofku7bliqDlhaXpmJ/liJdcclxuXHRcdFx0XHR1cGxvYWRlci5vbignZmlsZVF1ZXVlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdHVwbG9hZGVyLnVwbG9hZCgpXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC8vdG9vbHRpcFxyXG5cdFx0XHQvLyByZXF1aXJlKFsnYm9vdHN0cmFwJ10sICgpID0+IHtcclxuXHRcdFx0Ly8gXHQkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpXHJcblx0XHRcdC8vIH0pXHJcblx0XHR9LFxyXG5cdFx0ZGlyZWN0aXZlczoge1xyXG5cdFx0XHRmb2N1czoge1xyXG5cdFx0XHRcdGluc2VydGVkKGVsKSB7XHJcblx0XHRcdFx0XHRlbC5mb2N1cygpO1xyXG5cdFx0XHRcdFx0aWYgKGVsLmRhdGFzZXQudGlwcykge1xyXG5cdFx0XHRcdFx0XHRsYXllci50aXBzKGA8c3BhbiBzdHlsZT1cImNvbG9yOiMzMzdhYjdcIj4ke2VsLmRhdGFzZXQudGlwc308L3NwYW4+YCwgZWwse1xyXG5cdFx0XHRcdFx0XHRcdHRpcHM6IFsyLCAnI2ZmZiddXHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRtZXRob2RzOiB7XHJcblx0XHRcdC8v6YeN572uXHJcblx0XHRcdGNsZWFyKCl7XHJcblx0XHRcdFx0aWYodGhpcy5yb2xlPT0n57uP55CGJykgdGhpcy5zLnNhbGVOYW1lLnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHRcdFx0XHR0aGlzLnNlbGVjdDIucHJvdmluY2UudmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0XHRcdHRoaXMuc2VsZWN0Mi5jaXR5LnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/lhajpgIlcclxuXHRcdFx0YnRuX2NoZWNrQWxsKCkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdHRoYXQuY2hlY2tzID0gW107XHJcblx0XHRcdFx0aWYgKHRoYXQuY2hlY2tBbGwpIHtcclxuXHRcdFx0XHRcdCQuZWFjaCh0aGF0LmMubGlzdCwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR0aGF0LmNoZWNrcy5wdXNoKHRoaXMuaWQpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZWRpdF9ob3ZlcihrZXksIGVsKSB7XHJcblx0XHRcdFx0VnVlLnNldCh0aGlzLmhvdmVyRWwsIGtleSwge1xyXG5cdFx0XHRcdFx0c2hvdzogMSxcclxuXHRcdFx0XHRcdGVsOiBlbFxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0X2VsKGtleSwgZWwpIHtcclxuXHRcdFx0XHR0aGlzLmVkaXRFbC5zaG93ID0ga2V5O1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLmVsID0gZWw7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwub2xkVmFsdWU9ZWwubmFtZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0X3N1Ym1pdChrZXksIGVsKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coMik7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuc2hvdyA9ICcnO1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLmVsID0ge307XHJcblx0XHRcdFx0VnVlLnNldCh0aGlzLmhvdmVyRWwsIGtleSwge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dGhpcy5zYXZlRGF0YShrZXksIGVsKVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlZGl0X2tleXVwKGtleSxlbCl7XHJcblx0XHRcdFx0dGhpcy5lZGl0RWwuc2hvdyA9ICcnO1xyXG5cdFx0XHRcdHRoaXMuZWRpdEVsLmVsID0ge307XHJcblx0XHRcdFx0VnVlLnNldCh0aGlzLmhvdmVyRWwsIGtleSwge1xyXG5cdFx0XHRcdFx0c2hvdzogMCxcclxuXHRcdFx0XHRcdGVsOiB7fVxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdG92ZXJUaXBzKGVsKXtcclxuXHRcdFx0XHRsYXllci50aXBzKGA8c3BhbiBzdHlsZT1cImNvbG9yOiMzMzdhYjdcIj4ke2VsLnJlbWFya308L3NwYW4+YCwgXCIjcmVtYXJrX1wiICsgZWwuaWQse1xyXG5cdFx0XHRcdFx0XHRcdHRpcHM6IFsyLCAnI2ZmZiddXHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0LyoqXHJcblx0ICog5L+d5a2Y5pWw5o2uXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHthbnl9IGRhdGEg5b2T5YmN5YC8IFxyXG5cdCAqIEByZXR1cm5zIFxyXG5cdCAqL1xyXG5cdFx0XHRzYXZlRGF0YShrZXksIGVsKSB7XHJcblx0XHRcdFx0aWYoa2V5PT0nbmFtZScmJmVsLm5hbWU9PScnKXtcclxuXHRcdFx0XHRcdGVsLm5hbWUgID0gdGhpcy5lZGl0RWwub2xkVmFsdWVcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYoa2V5PT0nbmFtZScmJmVsLm5hbWUgPT0gdGhpcy5lZGl0RWwub2xkVmFsdWUpe1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihrZXk9PSduYW1lJyl7XHJcblx0XHRcdFx0XHQkLnBvc3QoY29uZmlnLmFwaV9oYXNOYW1lLHtcclxuXHRcdFx0XHRcdFx0bmFtZTplbC5uYW1lXHJcblx0XHRcdFx0XHR9KS5kb25lKChyZXMpPT57XHJcblx0XHRcdFx0XHQgICBpZihyZXMucmVzdWx0PT0nZXJyb3InKXtcclxuXHRcdFx0XHRcdFx0bGF5ZXIubXNnKCflrqLmiLflkI3np7Dlt7LlrZjlnKgs6K+35qOA5p+l6YeN6K+VJylcclxuXHRcdFx0XHRcdFx0XHRlbC5uYW1lICA9IHRoaXMuZWRpdEVsLm9sZFZhbHVlXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0c2F2ZSgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0c2F2ZSgpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZ1bmN0aW9uIHNhdmUoKXtcclxuXHRcdFx0XHRsZXQgcG9zdERhdGEgPSB7XHJcblx0XHRcdFx0XHRpZDogZWwuaWQsXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRwb3N0RGF0YVtrZXldID0gZWxba2V5XVxyXG5cdFx0XHRcdCQucG9zdChjb25maWcuYXBpX3VwZGF0ZVNhbGVDdXN0b21lciwgcG9zdERhdGEsIChyZXMpID0+IHt9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIOi9veWFpeS4reaWueazlVxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IHMg5piv5ZCm5YWz6ZetXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRsb2FkaW5nKHMpIHtcclxuXHRcdFx0XHRpZiAocyA9PSBcImNsb3NlXCIpIGxheWVyLmNsb3NlKHRoaXMubG9hZGluZ1N3aXRjaClcclxuXHRcdFx0XHRlbHNlIHRoaXMubG9hZGluZ1N3aXRjaCA9IGxheWVyLmxvYWQoMyk7XHJcblx0XHRcdFx0Ly8gZWxzZSB0aGlzLmxvYWRpbmdTd2l0Y2ggPSBsYXllci5sb2FkKDMsIHsgc2hhZGU6IFsuNiwgXCIjZmZmXCJdIH0pO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+aQnOe0olxyXG5cdFx0XHRzZWFyY2goKSB7XHJcblx0XHRcdFx0dGhpcy5wb3N0RGF0YS5rZXl3b3JkcyA9ICQudHJpbSgkKCdbbmFtZT1rZXl3b3Jkc10nKS52YWwoKSk7XHJcblx0XHRcdFx0dGhpcy5wb3N0RGF0YS5zYWxlTmFtZSA9ICQudHJpbSgkKCdbbmFtZT1zYWxlTmFtZV0nKS52YWwoKSk7XHJcblx0XHRcdFx0dGhpcy5wb3N0RGF0YS5jaXR5TmFtZSA9ICQudHJpbSgkKCdbbmFtZT1jaXR5TmFtZV0nKS52YWwoKSk7XHJcblx0XHRcdFx0dGhpcy5wb3N0RGF0YS5wcm92aW5jZU5hbWUgPSAkLnRyaW0oJCgnW25hbWU9cHJvdmluY2VOYW1lXScpLnZhbCgpKTtcclxuXHRcdFx0XHR0aGlzLnBvc3REYXRhLnN0YXR1cyA9ICQoJ1tuYW1lPXN0YXR1c10nKS52YWwoKVxyXG5cdFx0XHRcdHRoaXMubGlzdF9HZXQoMSlcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/ojrflj5bliJfooajmlbDmja5cclxuXHRcdFx0bGlzdF9HZXQocGFnZSkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdGlmIChwYWdlKSB0aGlzLmMucGFnZU51bSA9IHBhZ2VcclxuXHRcdFx0XHR0aGF0LmxvYWRpbmcoKTtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLmlzS2hHaCA9IHRoaXMuaXNLaEdoO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEucGFnZVNpemUgPSB0aGlzLmMucGFnZVNpemU7XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS5wYWdlTm8gPSB0aGlzLmMucGFnZU51bTtcclxuXHRcdFx0XHR0aGF0LnBvc3REYXRhLmdqVGltZSA9IHRoaXMuc29ydC5nalRpbWU7XHJcblx0XHRcdFx0dGhhdC5wb3N0RGF0YS54Y2dldFRpbWUgPSB0aGlzLnNvcnQueGNnZXRUaW1lO1xyXG5cdFx0XHRcdHRoYXQucG9zdERhdGEueGNocmdoVGltZSA9IHRoaXMuc29ydC54Y2hyZ2hUaW1lO1xyXG5cdFx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0XHR1cmw6IGNvbmZpZy5hcGlfc2hvd1NhbGVDdXN0b21lcixcclxuXHRcdFx0XHRcdGFzeW5jOiBmYWxzZSxcclxuXHRcdFx0XHRcdGRhdGE6IHRoYXQucG9zdERhdGFcclxuXHRcdFx0XHR9KS5kb25lKChyZXMpID0+IHtcclxuXHRcdFx0XHRcdHRoYXQuYyA9IHJlcy5yZXN1bHQ7XHJcblx0XHRcdFx0XHQvL+WIhumhtVxyXG5cdFx0XHRcdFx0aWYgKHRoYXQucGFnaSkge1xyXG5cdFx0XHRcdFx0XHQkKCcucGFnaScpLnBhZ2luYXRpb24oJ3VwZGF0ZVBhZ2VzJywgdGhhdC5jLnBhZ2VzKVxyXG5cdFx0XHRcdFx0XHRpZiAocGFnZSA9PSAxKSAkKCcucGFnaScpLnBhZ2luYXRpb24oJ2dvVG9QYWdlJywgdGhhdC5jLnBhZ2VOdW0pXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRyZXF1aXJlKFsncGFnaW5hdGlvbiddLCAocGFnaW5hdGlvbikgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoYXQucGFnaSA9ICQoJy5wYWdpJykucGFnaW5hdGlvbih7XHJcblx0XHRcdFx0XHRcdFx0XHRwYWdlczogdGhhdC5jLnBhZ2VzLCAvL+aAu+mhteaVsFxyXG5cdFx0XHRcdFx0XHRcdFx0c2hvd0N0cmw6IHRydWUsXHJcblx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5UGFnZTogNixcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlOiB0aGF0LmMucGFnZU51bSxcclxuXHRcdFx0XHRcdFx0XHRcdG9uU2VsZWN0OiBmdW5jdGlvbiAobnVtKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoYXQuYy5wYWdlTnVtID0gbnVtXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoYXQubGlzdF9HZXQoKVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0dGhhdC5sb2FkaW5nKCdjbG9zZScpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0sXHJcblx0XHRcdC8v5o6S5bqPXHJcblx0XHRcdGRhdGFfc29ydChlbCl7XHJcblx0XHRcdFx0c3dpdGNoICh0aGlzLnNvcnRbZWxdKSB7XHJcblx0XHRcdFx0XHRjYXNlIFwiXCI6XHJcblx0XHRcdFx0XHRcdFZ1ZS5zZXQodGhpcy5zb3J0LGVsLDApXHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgMDpcclxuXHRcdFx0XHRcdFx0VnVlLnNldCh0aGlzLnNvcnQsZWwsMSlcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRcdFx0VnVlLnNldCh0aGlzLnNvcnQsZWwsXCJcIilcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuc29ydCkge1xyXG5cdFx0XHRcdFx0aWYoa2V5IT1lbCl7XHJcblx0XHRcdFx0XHRcdFZ1ZS5zZXQodGhpcy5zb3J0LGtleSxcIlwiKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLmxpc3RfR2V0KDEpXHJcblx0XHRcdH0sXHJcblx0XHRcdHNoaWZ0VG9PdGhlcigpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHRpZiAoIXRoaXMuY2hlY2tzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0bGF5ZXIubXNnKFwi6K+35YWI6YCJ5oup5LiA6aG56L+b6KGM5pON5L2cXCIpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRpYWxvZyA9IGxheWVyLm9wZW4oe1xyXG5cdFx0XHRcdFx0XHR0eXBlOiAxLFxyXG5cdFx0XHRcdFx0XHR0aXRsZTogJ+i9rOenu+WuouaItycsXHJcblx0XHRcdFx0XHRcdGNsb3NlQnRuOiAxLFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiAkKCcjc2FsZXJCb3gnKSxcclxuXHRcdFx0XHRcdFx0YXJlYTogWyczNTBweCcsICcyMDBweCddLFxyXG5cdFx0XHRcdFx0XHRidG46IFwi6L2s56e7XCIsXHJcblx0XHRcdFx0XHRcdGJ0bkFsaWduOiAnYycsXHJcblx0XHRcdFx0XHRcdHllcygpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoISQoJyNzYWxlcklkJykudmFsKCkpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGxheWVyLmNsb3NlKGRpYWxvZylcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0eW9jdG8uanNvbihjb25maWcuYXBpX21vdmVLaCwge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IHRoYXQuY2hlY2tzLFxyXG5cdFx0XHRcdFx0XHRcdFx0c2FsZUlkOiAkKCcjc2FsZXJJZCcpLnZhbCgpXHJcblx0XHRcdFx0XHRcdFx0fSwgKHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGF5ZXIuY2xvc2UoZGlhbG9nKVxyXG5cdFx0XHRcdFx0XHRcdFx0bGF5ZXIubXNnKFwi6L2s56e75oiQ5YqfXCIpXHJcblx0XHRcdFx0XHRcdFx0XHR0aGF0Lmxpc3RfR2V0KDEpXHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c2hpZnRUb1NlYSgpIHtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHRpZiAoIXRoaXMuY2hlY2tzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0bGF5ZXIubXNnKFwi6K+35YWI6YCJ5oup5LiA6aG56L+b6KGM5pON5L2cXCIpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRpYWxvZyA9IGxheWVyLmNvbmZpcm0oJ+ivt+mAieaLqei9rOenu+WIsOeahOWFrOa1tycsIHtcclxuXHRcdFx0XHRcdFx0YnRuOiBbJ+WuouaIt+WFrOa1tycsICfml6DmhI/lkJHlhazmtbcnXSwgLy/mjInpkq5cclxuXHRcdFx0XHRcdFx0YnRuQWxpZ246ICdjJ1xyXG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR5b2N0by5qc29uKGNvbmZpZy5hcGlfbW92ZUdoLCB7XHJcblx0XHRcdFx0XHRcdFx0aWQ6IHRoYXQuY2hlY2tzLFxyXG5cdFx0XHRcdFx0XHRcdGlzS2hnaDogMFxyXG5cdFx0XHRcdFx0XHR9LCAocmVzKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGF5ZXIubXNnKFwi6L2s56e75oiQ5YqfXCIpXHJcblx0XHRcdFx0XHRcdFx0bGF5ZXIuY2xvc2UoZGlhbG9nKVxyXG5cdFx0XHRcdFx0XHRcdHRoYXQubGlzdF9HZXQoMSlcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0eW9jdG8uanNvbihjb25maWcuYXBpX21vdmVHaCwge1xyXG5cdFx0XHRcdFx0XHRcdGlkOiB0aGF0LmNoZWNrcyxcclxuXHRcdFx0XHRcdFx0XHRpc0toZ2g6IDFcclxuXHRcdFx0XHRcdFx0fSwgKHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxheWVyLm1zZyhcIui9rOenu+aIkOWKn1wiKVxyXG5cdFx0XHRcdFx0XHRcdGxheWVyLmNsb3NlKGRpYWxvZylcclxuXHRcdFx0XHRcdFx0XHR0aGF0Lmxpc3RfR2V0KDEpXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdC8v55S16K+dXHJcblx0XHRcdGNhbGwoZWwsIHBob25lKSB7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0dGhpcy5ob3ZlckVsLmxpbmttYW5Nb2JpbGVQaG9uZS5zaG93ID0gMFxyXG5cdFx0XHRcdHRoaXMuaG92ZXJFbC5saW5rbWFuTGFuZGxpbmUuc2hvdyA9IDBcclxuXHRcdFx0XHR0aGF0LmxvYWRpbmcoKTtcclxuXHRcdFx0XHR0aGlzLmNhbGxJZD1cIlwiO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNhbGxJZD1cIlwiO1xyXG5cdFx0XHRcdCQucG9zdChjb25maWcuYXBpX2NhbGwsIHtcclxuXHRcdFx0XHRcdG1vYmlsZVBob25lOiBwaG9uZVxyXG5cdFx0XHRcdH0pLmRvbmUoKHJlcykgPT4ge1xyXG5cdFx0XHRcdFx0dGhhdC5sb2FkaW5nKFwiY2xvc2VcIik7XHJcblx0XHRcdFx0XHQvL+WGmei3n+i/m+W8ueWHuuahhlxyXG5cdFx0XHRcdFx0dGhhdC5zYWxlRm9sbG93TW9kZSA9IDBcclxuXHRcdFx0XHRcdFZ1ZS5uZXh0VGljaygoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuJHJlZnMuZm9sbG93LmluaXQoZWwpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0Ly/lu7rnq4t3c1xyXG5cdFx0XHRcdFx0dmFyIGhyZWYgPSBsb2NhdGlvbi5ob3N0O1xyXG5cdFx0XHRcdFx0dmFyIHdzU2VydmVyID0gYHdzOi8vJHtocmVmfS93ZWJTb2NrZXRTZXJ2ZXJgO1xyXG5cdFx0XHRcdFx0dmFyIHdlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQod3NTZXJ2ZXIpO1xyXG5cdFx0XHRcdFx0d2Vic29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uIChldnQpIHsgb25PcGVuKGV2dCkgfTtcclxuXHRcdFx0XHRcdHdlYnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKGV2dCkgeyBvbkNsb3NlKGV2dCkgfTtcclxuXHRcdFx0XHRcdHdlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZ0KSB7IG9uTWVzc2FnZShldnQpIH07XHJcblx0XHRcdFx0XHR3ZWJzb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChldnQpIHsgb25FcnJvcihldnQpIH07XHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbk9wZW4oZXZ0KSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXIuXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25DbG9zZShldnQpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJEaXNjb25uZWN0ZWRcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbk1lc3NhZ2UoZXZ0KSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdSZXRyaWV2ZWQgZGF0YSBmcm9tIHNlcnZlcjogJyArIGV2dC5kYXRhKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXZ0LmRhdGEuaW5kZXhPZignc2FsZXI6JykpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhldnQuZGF0YS5zcGxpdChcInNhbGVyOlwiKVsxXSk7XHJcblx0XHRcdFx0XHRcdGlmKGV2dC5kYXRhLmluZGV4T2YoJ3NhbGVyOicpPT0wKXtcclxuXHRcdFx0XHRcdFx0XHR0aGF0LmNhbGxJZCA9IGV2dC5kYXRhLnNwbGl0KFwic2FsZXI6XCIpWzFdO1xyXG5cdFx0XHRcdFx0XHRcdCB3aW5kb3cuY2FsbElkID1ldnQuZGF0YS5zcGxpdChcInNhbGVyOlwiKVsxXTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR3ZWJzb2NrZXQuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIG9uRXJyb3IoZXZ0KSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdFcnJvciBvY2N1cmVkOiAnICsgZXZ0LmRhdGEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0d2luZG93Lm9udW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR3ZWJzb2NrZXQuY2xvc2UoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+aJk+W8gOWuouaIt+ivpuaDhVxyXG5cdFx0XHRjdXN0b21lcl9kZXRhaWwoZWwpIHtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBsYXllci5vcGVuKHtcclxuXHRcdFx0XHRcdHR5cGU6IDIsXHJcblx0XHRcdFx0XHR0aXRsZTogJyAnLFxyXG5cdFx0XHRcdFx0Y29udGVudDogJ2N1c3RvbWVyX2RldGFpbC5odG1sP2lkPScgKyBlbC5pZCxcclxuXHRcdFx0XHRcdGFyZWE6IFsnMTAwJScsICcxMDAlJ11cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdGVkaXRfc2FsZVJlY29yZChlbCkge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdHRoYXQuc2FsZUZvbGxvd01vZGUgPSAxXHJcblx0XHRcdFx0VnVlLm5leHRUaWNrKCgpID0+IHtcclxuXHRcdFx0XHRcdHRoYXQuJHJlZnMuZm9sbG93LmluaXQoe1xyXG5cdFx0XHRcdFx0XHRpZDogZWwuaWQsXHJcblx0XHRcdFx0XHRcdG5hbWU6IGVsLm5hbWUsXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvL+WQjOatpVxyXG5cdFx0XHRzeW5jKGlkKSB7XHJcblx0XHRcdFx0Y29uc3QgZGlhbG9nID0gbGF5ZXIub3Blbih7XHJcblx0XHRcdFx0XHR0eXBlOiAyLFxyXG5cdFx0XHRcdFx0dGl0bGU6ICflkIzmraUnLFxyXG5cdFx0XHRcdFx0Y2xvc2VCdG46IDEsXHJcblx0XHRcdFx0XHRjb250ZW50OiAnL3NhbGVDdXN0b21lci9nb1p5LmRvP2lkPScgKyBpZCxcclxuXHRcdFx0XHRcdGFyZWE6IFsnNzAwcHgnLCAnNjAwcHgnXSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Ly/plIDllK5zZWxlY3QyXHJcblx0XHRcdHNlbGVjdF9pbml0KGVsLCBwbGFjZWhvbGRlciwgY2xlYXJidG4pIHtcclxuXHRcdFx0XHRyZXR1cm4gJChlbCkuc2VsZWN0Mih7XHJcblx0XHRcdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgfHwgXCLor7fpgInmi6lcIixcclxuXHRcdFx0XHRcdGxhbmd1YWdlOiAnemgtQ04nLFxyXG5cdFx0XHRcdFx0YWxsb3dDbGVhcjogY2xlYXJidG4gfHwgZmFsc2UsXHJcblx0XHRcdFx0XHRhamF4OiB7XHJcblx0XHRcdFx0XHRcdHVybDogXCIvdXNlci9nZXRVc2VySW5mb1wiLFxyXG5cdFx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0XHR0eXBlOiBcInBvc3RcIixcclxuXHRcdFx0XHRcdFx0ZGVsYXk6IDI1MCxcclxuXHRcdFx0XHRcdFx0ZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0XHRwYWdlOiBwYXJhbXMucGFnZSB8fCAxLFxyXG5cdFx0XHRcdFx0XHRcdFx0Uk9MRV9JRDogXCJiNzI5ZTkzMzRhZDY0YzE1YTRlNDdkODhiOGMyNjM4ZiwzMGIxNDg3MjIxNDY0ZDM2OWNhNGMyNDYyY2NjYTkyMFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRxOiBwYXJhbXMudGVybSB8fCBcIlwiLCAvLyBzZWFyY2ggdGVybVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcdFx0cGFyYW1zLnBhZ2UgPSBwYXJhbXMucGFnZSB8fCAxO1xyXG5cdFx0XHRcdFx0XHRcdCQuZWFjaChkYXRhLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmlkID0gdGhpcy5VU0VSX0lEO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy50ZXh0ID0gdGhpcy5OQU1FO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHM6IGRhdGEsXHJcblx0XHRcdFx0XHRcdFx0XHRwYWdpbmF0aW9uOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG1vcmU6IGRhdGEubGVuZ3RoID09IDEwXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0Y2FjaGU6IHRydWVcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRtaW5pbXVtSW5wdXRMZW5ndGg6IDBcclxuXHRcdFx0XHR9KVxyXG5cclxuXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KVxyXG5cclxufSlcclxuLy/lrZDpobXpnaLlpITnkIbmlrnms5Vcclxud2luZG93LnBhcmVudEZuYyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuXHRsYXllci5jbG9zZUFsbCgpO1xyXG5cdC8v5pu05paw6K6w5b2VXHJcblx0d2luZG93LmFwcC5saXN0X0dldCgpXHJcbn1cclxuXHJcblxyXG4iXX0=
